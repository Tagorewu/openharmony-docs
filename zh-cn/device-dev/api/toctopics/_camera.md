# Camera<a name="ZH-CN_TOPIC_0000001343120273"></a>

## **汇总**<a name="section737196739083931"></a>

## 文件<a name="files"></a>

<a name="table2077301871083931"></a>
<table><thead align="left"><tr id="row1132143710083931"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p1776311802083931"><a name="p1776311802083931"></a><a name="p1776311802083931"></a>文件</p>
</th>
<th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p2040814106083931"><a name="p2040814106083931"></a><a name="p2040814106083931"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row346736505083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1542182858083931"><a name="p1542182858083931"></a><a name="p1542182858083931"></a><a href="icamera__device_8h.md">icamera_device.h</a></p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1734711172083931"><a name="p1734711172083931"></a><a name="p1734711172083931"></a>Camera设备操作接口。</p>
</td>
</tr>
<tr id="row970824128083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p989767387083931"><a name="p989767387083931"></a><a name="p989767387083931"></a><a href="icamera__device__callback_8h.md">icamera_device_callback.h</a></p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p469620157083931"><a name="p469620157083931"></a><a name="p469620157083931"></a>Camera设备的回调接口，主要包含camera设备发生错误时和上报metadata的回调函数。</p>
</td>
</tr>
<tr id="row2048816266083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p143289898083931"><a name="p143289898083931"></a><a name="p143289898083931"></a><a href="icamera__host_8h.md">icamera_host.h</a></p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p186136541083931"><a name="p186136541083931"></a><a name="p186136541083931"></a>Camera服务的管理类，对上层提供HDI接口。</p>
</td>
</tr>
<tr id="row504824336083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1133649721083931"><a name="p1133649721083931"></a><a name="p1133649721083931"></a><a href="icamera__host__callback_8h.md">icamera_host_callback.h</a></p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1077991650083931"><a name="p1077991650083931"></a><a name="p1077991650083931"></a>ICameraHost的回调接口，提供Camera设备和闪关灯状态变化的回调函数，回调函数由调用者实现。</p>
</td>
</tr>
<tr id="row1781066358083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p2096237122083931"><a name="p2096237122083931"></a><a name="p2096237122083931"></a><a href="ioffline__stream__operator_8h.md">ioffline_stream_operator.h</a></p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p791176120083931"><a name="p791176120083931"></a><a name="p791176120083931"></a>离线流的操作接口。</p>
</td>
</tr>
<tr id="row866456320083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p980504711083931"><a name="p980504711083931"></a><a name="p980504711083931"></a><a href="istream__operator_8h.md">istream_operator.h</a></p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p719773705083931"><a name="p719773705083931"></a><a name="p719773705083931"></a>流的操作接口。</p>
</td>
</tr>
<tr id="row775782083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p472326193083931"><a name="p472326193083931"></a><a name="p472326193083931"></a><a href="istream__operator__callback_8h.md">istream_operator_callback.h</a></p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p107912347083931"><a name="p107912347083931"></a><a name="p107912347083931"></a><a href="istream__operator_8h.md">IStreamOperator</a>相关的回调，这些回调均由调用者实现。</p>
</td>
</tr>
<tr id="row1407383797083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1249281764083931"><a name="p1249281764083931"></a><a name="p1249281764083931"></a><a href="types_8h.md">types.h</a></p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1967781339083931"><a name="p1967781339083931"></a><a name="p1967781339083931"></a>Camera模块HDI接口使用的数据类型。</p>
</td>
</tr>
</tbody>
</table>

## 类<a name="nested-classes"></a>

<a name="table730018401083931"></a>
<table><thead align="left"><tr id="row1347966778083931"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p1052872605083931"><a name="p1052872605083931"></a><a name="p1052872605083931"></a>类</p>
</th>
<th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p1768408049083931"><a name="p1768408049083931"></a><a name="p1768408049083931"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row1376765842083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p519216070083931"><a name="p519216070083931"></a><a name="p519216070083931"></a><a href="_o_h_o_s_1_1_camera_1_1_i_camera_device.md">OHOS::Camera::ICameraDevice</a></p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p17113104034413"><a name="p17113104034413"></a><a name="p17113104034413"></a>Camera设备操作。<a href="_o_h_o_s_1_1_camera_1_1_i_camera_device.md">更多...</a></p>
</td>
</tr>
<tr id="row1709454069083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p852165316083931"><a name="p852165316083931"></a><a name="p852165316083931"></a><a href="_o_h_o_s_1_1_camera_1_1_i_camera_device_callback.md">OHOS::Camera::ICameraDeviceCallback</a></p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p01131040194417"><a name="p01131040194417"></a><a name="p01131040194417"></a>Camera设备操作回调。<a href="_o_h_o_s_1_1_camera_1_1_i_camera_device_callback.md">更多...</a></p>
</td>
</tr>
<tr id="row2122912152083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p96900331083931"><a name="p96900331083931"></a><a name="p96900331083931"></a><a href="_o_h_o_s_1_1_camera_1_1_i_camera_host.md">OHOS::Camera::ICameraHost</a></p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p131131840114417"><a name="p131131840114417"></a><a name="p131131840114417"></a>Camera服务的管理类。<a href="_o_h_o_s_1_1_camera_1_1_i_camera_host.md">更多...</a></p>
</td>
</tr>
<tr id="row13118337083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p680993865083931"><a name="p680993865083931"></a><a name="p680993865083931"></a><a href="_o_h_o_s_1_1_camera_1_1_i_camera_host_callback.md">OHOS::Camera::ICameraHostCallback</a></p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p41133406445"><a name="p41133406445"></a><a name="p41133406445"></a>Camera服务的管理回调。<a href="_o_h_o_s_1_1_camera_1_1_i_camera_host_callback.md">更多...</a></p>
</td>
</tr>
<tr id="row1680853659083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p150355709083931"><a name="p150355709083931"></a><a name="p150355709083931"></a><a href="_o_h_o_s_1_1_camera_1_1_i_offline_stream_operator.md">OHOS::Camera::IOfflineStreamOperator</a></p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p411394016441"><a name="p411394016441"></a><a name="p411394016441"></a>离线流的操作类。<a href="_o_h_o_s_1_1_camera_1_1_i_offline_stream_operator.md">更多...</a></p>
</td>
</tr>
<tr id="row1928341021083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1676259244083931"><a name="p1676259244083931"></a><a name="p1676259244083931"></a><a href="_o_h_o_s_1_1_camera_1_1_i_stream_operator.md">OHOS::Camera::IStreamOperator</a></p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p10114144014412"><a name="p10114144014412"></a><a name="p10114144014412"></a>流的操作类。<a href="_o_h_o_s_1_1_camera_1_1_i_stream_operator.md">更多...</a></p>
</td>
</tr>
<tr id="row91766778083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1849255153083931"><a name="p1849255153083931"></a><a name="p1849255153083931"></a><a href="_o_h_o_s_1_1_camera_1_1_i_stream_operator_callback.md">OHOS::Camera::IStreamOperatorCallback</a></p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p13114114064413"><a name="p13114114064413"></a><a name="p13114114064413"></a>流的操作回调类。<a href="_o_h_o_s_1_1_camera_1_1_i_stream_operator_callback.md">更多...</a></p>
</td>
</tr>
<tr id="row1319921307083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p296138583083931"><a name="p296138583083931"></a><a name="p296138583083931"></a><a href="_o_h_o_s_1_1_camera_1_1_stream_info.md">OHOS::Camera::StreamInfo</a></p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1511150566083931"><a name="p1511150566083931"></a><a name="p1511150566083931"></a>流信息，用于创建流时传入相关的配置参数。 <a href="_o_h_o_s_1_1_camera_1_1_stream_info.md">更多...</a></p>
</td>
</tr>
<tr id="row980194126083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p616847256083931"><a name="p616847256083931"></a><a name="p616847256083931"></a><a href="_o_h_o_s_1_1_camera_1_1_stream_attribute.md">OHOS::Camera::StreamAttribute</a></p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1253459377083931"><a name="p1253459377083931"></a><a name="p1253459377083931"></a>流的属性。 <a href="_o_h_o_s_1_1_camera_1_1_stream_attribute.md">更多...</a></p>
</td>
</tr>
<tr id="row629898543083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p60595051083931"><a name="p60595051083931"></a><a name="p60595051083931"></a><a href="_o_h_o_s_1_1_camera_1_1_capture_info.md">OHOS::Camera::CaptureInfo</a></p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p422467237083931"><a name="p422467237083931"></a><a name="p422467237083931"></a>捕获请求的相关信息。 <a href="_o_h_o_s_1_1_camera_1_1_capture_info.md">更多...</a></p>
</td>
</tr>
<tr id="row209841411083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1112059418083931"><a name="p1112059418083931"></a><a name="p1112059418083931"></a><a href="_o_h_o_s_1_1_camera_1_1_capture_ended_info.md">OHOS::Camera::CaptureEndedInfo</a></p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p2072849673083931"><a name="p2072849673083931"></a><a name="p2072849673083931"></a>捕获结束相关信息，用于捕获结束回调 <strong id="b679355711083931"><a name="b679355711083931"></a><a name="b679355711083931"></a>OnCaptureEnded</strong>。 <a href="_o_h_o_s_1_1_camera_1_1_capture_ended_info.md">更多...</a></p>
</td>
</tr>
<tr id="row481522795083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p2076625406083931"><a name="p2076625406083931"></a><a name="p2076625406083931"></a><a href="_o_h_o_s_1_1_camera_1_1_capture_error_info.md">OHOS::Camera::CaptureErrorInfo</a></p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1978935100083931"><a name="p1978935100083931"></a><a name="p1978935100083931"></a>流错误信息，用于回调 <strong id="b1262971533083931"><a name="b1262971533083931"></a><a name="b1262971533083931"></a>OnCaptureError</strong>。 <a href="_o_h_o_s_1_1_camera_1_1_capture_error_info.md">更多...</a></p>
</td>
</tr>
</tbody>
</table>

## 类型定义<a name="typedef-members"></a>

<a name="table633368025083931"></a>
<table><thead align="left"><tr id="row796190319083931"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p1695035089083931"><a name="p1695035089083931"></a><a name="p1695035089083931"></a>类型定义</p>
</th>
<th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p735724961083931"><a name="p735724961083931"></a><a name="p735724961083931"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row2038298136083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p196961928083931"><a name="p196961928083931"></a><a name="p196961928083931"></a><em id="gafd403e4c5257c6e69b86655993a1ec1e"><a name="gafd403e4c5257c6e69b86655993a1ec1e"></a><a name="gafd403e4c5257c6e69b86655993a1ec1e"></a></em><strong id="b1036974931083931"><a name="b1036974931083931"></a><a name="b1036974931083931"></a>OHOS::Camera::CameraAbility</strong> = CameraMetadata</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1388144712527"><a name="p1388144712527"></a><a name="p1388144712527"></a>Camera设备能力集合。</p>
</td>
</tr>
<tr id="row246453974083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p590240668083931"><a name="p590240668083931"></a><a name="p590240668083931"></a><em id="gaaae2f0050286f793e47436832fdce85a"><a name="gaaae2f0050286f793e47436832fdce85a"></a><a name="gaaae2f0050286f793e47436832fdce85a"></a></em><strong id="b448031172083931"><a name="b448031172083931"></a><a name="b448031172083931"></a>OHOS::Camera::CameraSetting</strong> = CameraMetadata</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p198815471529"><a name="p198815471529"></a><a name="p198815471529"></a>Camera设置参数，包括sensor帧率，3A相关参数等。</p>
</td>
</tr>
<tr id="row2080849157083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p937469168083931"><a name="p937469168083931"></a><a name="p937469168083931"></a><em id="ga9b3ae245585b702ba40ac23ae3186207"><a name="ga9b3ae245585b702ba40ac23ae3186207"></a><a name="ga9b3ae245585b702ba40ac23ae3186207"></a></em><strong id="b333357412083931"><a name="b333357412083931"></a><a name="b333357412083931"></a>OHOS::Camera::MetaType</strong> = int32_t</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p8891447165219"><a name="p8891447165219"></a><a name="p8891447165219"></a>整型。</p>
</td>
</tr>
</tbody>
</table>

## 枚举<a name="enum-members"></a>

<a name="table1044405880083931"></a>
<table><thead align="left"><tr id="row1485363061083931"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p1731437603083931"><a name="p1731437603083931"></a><a name="p1731437603083931"></a>枚举</p>
</th>
<th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p2008547472083931"><a name="p2008547472083931"></a><a name="p2008547472083931"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row2042590500083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1181476941083931"><a name="p1181476941083931"></a><a name="p1181476941083931"></a><a href="_camera.md#ga9ecee2f0e6599644dc440c9e1c553b80">OHOS::Camera::CamRetCode</a> : int32_t {   <a href="_camera.md#gga9ecee2f0e6599644dc440c9e1c553b80aac4124a539038c0eb9752f19bd41db9a">OHOS::Camera::NO_ERROR</a> = 0, <a href="_camera.md#gga9ecee2f0e6599644dc440c9e1c553b80a6d812337e14eb19f8afb2e70f3aad1a0">OHOS::Camera::CAMERA_BUSY</a> = -1, <a href="_camera.md#gga9ecee2f0e6599644dc440c9e1c553b80a7250a9e68d64f0804d92f99e8cbc1e7e">OHOS::Camera::INSUFFICIENT_RESOURCES</a> = -2, <a href="_camera.md#gga9ecee2f0e6599644dc440c9e1c553b80a9cfb72153a13ecf08abb34d59bec2223">OHOS::Camera::INVALID_ARGUMENT</a> = -3,   <a href="_camera.md#gga9ecee2f0e6599644dc440c9e1c553b80ae66837f5eefe837cf5777083e1aaadcc">OHOS::Camera::METHOD_NOT_SUPPORTED</a> = -4, <a href="_camera.md#gga9ecee2f0e6599644dc440c9e1c553b80a0322e66dfb3b398ead3bd50c823415cd">OHOS::Camera::CAMERA_CLOSED</a> = -5, <a href="_camera.md#gga9ecee2f0e6599644dc440c9e1c553b80a2b74d8a616b4360eec8826d9810c03c0">OHOS::Camera::DEVICE_ERROR</a> = -6 }</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1224370080083931"><a name="p1224370080083931"></a><a name="p1224370080083931"></a>HDI接口的返回值。 <a href="_camera.md#ga9ecee2f0e6599644dc440c9e1c553b80">更多...</a></p>
</td>
</tr>
<tr id="row2117402574083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1009849623083931"><a name="p1009849623083931"></a><a name="p1009849623083931"></a><a href="_camera.md#ga0290782009631708fe5351c54f019353">OHOS::Camera::ResultCallbackMode</a> : int32_t { <a href="_camera.md#gga0290782009631708fe5351c54f019353a25a4a7cc14577e328d08dd1a758f784c">OHOS::Camera::PER_FRAME</a>, <a href="_camera.md#gga0290782009631708fe5351c54f019353ab84abaca84197e5e75dc1210519ea37c">OHOS::Camera::ON_CHANGED</a> }</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1863439946083931"><a name="p1863439946083931"></a><a name="p1863439946083931"></a>metadata的上报模式。 <a href="_camera.md#ga0290782009631708fe5351c54f019353">更多...</a></p>
</td>
</tr>
<tr id="row1749009100083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1178481271083931"><a name="p1178481271083931"></a><a name="p1178481271083931"></a><a href="_camera.md#gac397708a7aefbcf48c8a32b8af367ffd">OHOS::Camera::OperationMode</a> : int32_t { <a href="_camera.md#ggac397708a7aefbcf48c8a32b8af367ffda66a457d6883b55722bda11ac9a47e4dd">OHOS::Camera::NORMAL</a> = 0 }</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p853005644083931"><a name="p853005644083931"></a><a name="p853005644083931"></a>流的使用模式。 <a href="_camera.md#gac397708a7aefbcf48c8a32b8af367ffd">更多...</a></p>
</td>
</tr>
<tr id="row418454111083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p2028365719083931"><a name="p2028365719083931"></a><a name="p2028365719083931"></a><a href="_camera.md#ga2b195a400dc0113b8185900ddc231c19">OHOS::Camera::StreamIntent</a> : int32_t {   <a href="_camera.md#gga2b195a400dc0113b8185900ddc231c19a2ec888585737101c7bc133d302e4ce0a">OHOS::Camera::PREVIEW</a> = 0, <a href="_camera.md#gga2b195a400dc0113b8185900ddc231c19ad480442d11e56ef84ac7018df5637b6a">OHOS::Camera::VIDEO</a> = 1, <a href="_camera.md#gga2b195a400dc0113b8185900ddc231c19a5898656f053185f8a374bc35cbd4d784">OHOS::Camera::STILL_CAPTURE</a> = 2, <a href="_camera.md#gga2b195a400dc0113b8185900ddc231c19a67891a15f68cdc23c2b1bb6fdfe2d72f">OHOS::Camera::POST_VIEW</a> = 3,   <a href="_camera.md#gga2b195a400dc0113b8185900ddc231c19a817268e94893ff41b8a03147dfbbc94b">OHOS::Camera::ANALYZE</a> = 4, <a href="_camera.md#gga2b195a400dc0113b8185900ddc231c19a4ca8b162608a384d4335d04a56ac3e72">OHOS::Camera::CUSTOM</a> = 5 }</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1117011329083931"><a name="p1117011329083931"></a><a name="p1117011329083931"></a>流的类型。 <a href="_camera.md#ga2b195a400dc0113b8185900ddc231c19">更多...</a></p>
</td>
</tr>
<tr id="row340577952083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p222578679083931"><a name="p222578679083931"></a><a name="p222578679083931"></a><a href="_camera.md#ga57d3c5974b8119b90f6f43592bd4b1d1">OHOS::Camera::EncodeType</a> : int32_t { <a href="_camera.md#gga57d3c5974b8119b90f6f43592bd4b1d1af72ea69717272db8b03c0d2281c2f221">OHOS::Camera::ENCODE_TYPE_NULL</a> = 0, <a href="_camera.md#gga57d3c5974b8119b90f6f43592bd4b1d1a6d21ce4760d97641e66c9a6a58df6105">OHOS::Camera::ENCODE_TYPE_H264</a> = 1, <a href="_camera.md#gga57d3c5974b8119b90f6f43592bd4b1d1a60e25172afdb6ca5f18db408485c1cdf">OHOS::Camera::ENCODE_TYPE_H265</a> = 2, <a href="_camera.md#gga57d3c5974b8119b90f6f43592bd4b1d1a1cf15a45d92fa0eae74c778f09d4bae7">OHOS::Camera::ENCODE_TYPE_JPEG</a> = 3 }</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1543135785083931"><a name="p1543135785083931"></a><a name="p1543135785083931"></a>流数据的编码类型。 <a href="_camera.md#ga57d3c5974b8119b90f6f43592bd4b1d1">更多...</a></p>
</td>
</tr>
<tr id="row708599093083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1052902265083931"><a name="p1052902265083931"></a><a name="p1052902265083931"></a><a href="_camera.md#ga2de5b91b51f744902c071f89d9302d56">OHOS::Camera::StreamSupportType</a> : int32_t { <a href="_camera.md#gga2de5b91b51f744902c071f89d9302d56a96466427b9427c04c0a9f9a74e21b222">OHOS::Camera::DYNAMIC_SUPPORTED</a>, <a href="_camera.md#gga2de5b91b51f744902c071f89d9302d56afb9ebd5b0f7137f06e0b636247e7419e">OHOS::Camera::RE_CONFIGURED_REQUIRED</a>, <a href="_camera.md#gga2de5b91b51f744902c071f89d9302d56a5e0d17d563241a98d968bbdb5facf05e">OHOS::Camera::NOT_SUPPORTED</a> }</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1429911308083931"><a name="p1429911308083931"></a><a name="p1429911308083931"></a>动态配置流的切换方式，使用场景参考 <a href="_camera.md#ga2ebad5dbf7873a2b3ab27900c4f5b0a7">IsStreamsSupported</a> 。 <a href="_camera.md#ga2de5b91b51f744902c071f89d9302d56">更多...</a></p>
</td>
</tr>
<tr id="row1225961784083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1313387967083931"><a name="p1313387967083931"></a><a name="p1313387967083931"></a><a href="_camera.md#gac2c065c30743f0053f460a6683845dad">OHOS::Camera::CameraStatus</a> { <a href="_camera.md#ggac2c065c30743f0053f460a6683845dadaefabd193aca6ec50ad022c4003b079bd">OHOS::Camera::UN_AVAILABLE</a> = 0, <a href="_camera.md#ggac2c065c30743f0053f460a6683845dada41bd9156c9456c38aa47cf0b8b2486a2">OHOS::Camera::AVAILABLE</a> = 1 }</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1869525363083931"><a name="p1869525363083931"></a><a name="p1869525363083931"></a>Camera设备状态。 <a href="_camera.md#gac2c065c30743f0053f460a6683845dad">更多...</a></p>
</td>
</tr>
<tr id="row1999805904083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p775675992083931"><a name="p775675992083931"></a><a name="p775675992083931"></a><a href="_camera.md#ga1a82bc94cb6ff38f7fd0dfcffab71df3">OHOS::Camera::FlashlightStatus</a> : uint32_t { <a href="_camera.md#gga1a82bc94cb6ff38f7fd0dfcffab71df3a624df2112053caa6316c6ee443758d1a">OHOS::Camera::FLASHLIGHT_OFF</a> = 0, <a href="_camera.md#gga1a82bc94cb6ff38f7fd0dfcffab71df3a9f360d5fdf77e2f7c1c123f3ba45bc0c">OHOS::Camera::FLASHLIGHT_ON</a> = 1, <a href="_camera.md#gga1a82bc94cb6ff38f7fd0dfcffab71df3a7fae7a9c7a791d240f3b6f6399988e8c">OHOS::Camera::FLASHLIGHT_UNAVAILABLE</a> = 2 }</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p504679796083931"><a name="p504679796083931"></a><a name="p504679796083931"></a>闪光灯状态。 <a href="_camera.md#ga1a82bc94cb6ff38f7fd0dfcffab71df3">更多...</a></p>
</td>
</tr>
<tr id="row1881130105083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1138422415083931"><a name="p1138422415083931"></a><a name="p1138422415083931"></a><a href="_camera.md#ga14253812c3a39d52d827589bf5e5b970">OHOS::Camera::CameraEvent</a> : uint32_t { <a href="_camera.md#gga14253812c3a39d52d827589bf5e5b970a85028d1dd16bef4b3f60e9543f2c89d8">OHOS::Camera::CAMERA_EVENT_DEVICE_ADD</a> = 0, <a href="_camera.md#gga14253812c3a39d52d827589bf5e5b970a715b664103cdf584fb48ed5e7c591c06">OHOS::Camera::CAMERA_EVENT_DEVICE_RMV</a> = 1 }</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1965445692083931"><a name="p1965445692083931"></a><a name="p1965445692083931"></a>Camera事件。 <a href="_camera.md#ga14253812c3a39d52d827589bf5e5b970">更多...</a></p>
</td>
</tr>
<tr id="row1202739788083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p2086618758083931"><a name="p2086618758083931"></a><a name="p2086618758083931"></a><a href="_camera.md#ga4d1b650185695d9df8652593a7bc522d">OHOS::Camera::ErrorType</a> : uint32_t { <a href="_camera.md#gga4d1b650185695d9df8652593a7bc522dad0dde9e602d14d5b583be24c5014f998">OHOS::Camera::FATAL_ERROR</a> = 0, <a href="_camera.md#gga4d1b650185695d9df8652593a7bc522da2b8e229bcb457de66e7b2882502a4df6">OHOS::Camera::REQUEST_TIMEOUT</a> = 1 }</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p290291258083931"><a name="p290291258083931"></a><a name="p290291258083931"></a>设备错误类型，用于设备错误回调 <a href="_camera.md#ga8a2014d4173fc7fae08e62b9d85b5333">OnError</a>。 <a href="_camera.md#ga4d1b650185695d9df8652593a7bc522d">更多...</a></p>
</td>
</tr>
<tr id="row1613201257083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1229666868083931"><a name="p1229666868083931"></a><a name="p1229666868083931"></a><a href="_camera.md#ga376e6d566c73ec98e29b7dd93763aee6">OHOS::Camera::StreamError</a> { <a href="_camera.md#gga376e6d566c73ec98e29b7dd93763aee6ae724e09ec34e66e49c86734ceffa2a26">OHOS::Camera::UNKNOWN_ERROR</a> = 0, <a href="_camera.md#gga376e6d566c73ec98e29b7dd93763aee6a9300ec08f81b121b74ec589fca815952">OHOS::Camera::BUFFER_LOST</a> = 1 }</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1428984784083931"><a name="p1428984784083931"></a><a name="p1428984784083931"></a>流错误类型，用于流错误类型 <a href="_o_h_o_s_1_1_camera_1_1_capture_error_info.md">CaptureErrorInfo</a>。 <a href="_camera.md#ga376e6d566c73ec98e29b7dd93763aee6">更多...</a></p>
</td>
</tr>
</tbody>
</table>

## 函数<a name="func-members"></a>

<a name="table490608916083931"></a>
<table><thead align="left"><tr id="row1919700505083931"><th class="cellrowborder" valign="top" width="49.95%" id="mcps1.1.3.1.1"><p id="p1251229774083931"><a name="p1251229774083931"></a><a name="p1251229774083931"></a>函数</p>
</th>
<th class="cellrowborder" valign="top" width="50.05%" id="mcps1.1.3.1.2"><p id="p1100835378083931"><a name="p1100835378083931"></a><a name="p1100835378083931"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row1569740339083931"><td class="cellrowborder" valign="top" width="49.95%" headers="mcps1.1.3.1.1 "><p id="p1073842676083931"><a name="p1073842676083931"></a><a name="p1073842676083931"></a><em id="ga2b4ebed9b01a24a131d12798c88f34bd"><a name="ga2b4ebed9b01a24a131d12798c88f34bd"></a><a name="ga2b4ebed9b01a24a131d12798c88f34bd"></a></em><strong id="b1107086279083931"><a name="b1107086279083931"></a><a name="b1107086279083931"></a>OHOS::Camera::ICameraDevice::DECLARE_INTERFACE_DESCRIPTOR</strong> (u"HDI.Camera.V1_0.Device")</p>
</td>
<td class="cellrowborder" valign="top" width="50.05%" headers="mcps1.1.3.1.2 "><p id="p725971119211"><a name="p725971119211"></a><a name="p725971119211"></a>IPC通信token校验。</p>
</td>
</tr>
<tr id="row1637982498083931"><td class="cellrowborder" valign="top" width="49.95%" headers="mcps1.1.3.1.1 "><p id="p1044845496083931"><a name="p1044845496083931"></a><a name="p1044845496083931"></a><a href="_camera.md#gac49f0d8fc0ed8a2b8058fdd1bb695fa3">OHOS::Camera::ICameraDevice::GetStreamOperator</a> (const OHOS::sptr&lt; <a href="_o_h_o_s_1_1_camera_1_1_i_stream_operator_callback.md">IStreamOperatorCallback</a> &gt; &amp;callback, OHOS::sptr&lt; <a href="_o_h_o_s_1_1_camera_1_1_i_stream_operator.md">IStreamOperator</a> &gt; &amp;streamOperator)=0</p>
</td>
<td class="cellrowborder" valign="top" width="50.05%" headers="mcps1.1.3.1.2 "><p id="p1886458282083931"><a name="p1886458282083931"></a><a name="p1886458282083931"></a>获取流操作句柄。 <a href="_camera.md#gac49f0d8fc0ed8a2b8058fdd1bb695fa3">更多...</a></p>
</td>
</tr>
<tr id="row64012515083931"><td class="cellrowborder" valign="top" width="49.95%" headers="mcps1.1.3.1.1 "><p id="p400767516083931"><a name="p400767516083931"></a><a name="p400767516083931"></a><a href="_camera.md#gaceecba48e611efeec8bdf44d750b41a2">OHOS::Camera::ICameraDevice::UpdateSettings</a> (const std::shared_ptr&lt; CameraSetting &gt; &amp;settings)=0</p>
</td>
<td class="cellrowborder" valign="top" width="50.05%" headers="mcps1.1.3.1.2 "><p id="p1431207287083931"><a name="p1431207287083931"></a><a name="p1431207287083931"></a>更新设备控制参数。 <a href="_camera.md#gaceecba48e611efeec8bdf44d750b41a2">更多...</a></p>
</td>
</tr>
<tr id="row1523146421083931"><td class="cellrowborder" valign="top" width="49.95%" headers="mcps1.1.3.1.1 "><p id="p1825192750083931"><a name="p1825192750083931"></a><a name="p1825192750083931"></a><a href="_camera.md#ga8adaa4f26fffa98626a2c7e731393174">OHOS::Camera::ICameraDevice::SetResultMode</a> (const <a href="_camera.md#ga0290782009631708fe5351c54f019353">ResultCallbackMode</a> &amp;mode)=0</p>
</td>
<td class="cellrowborder" valign="top" width="50.05%" headers="mcps1.1.3.1.2 "><p id="p1203822173083931"><a name="p1203822173083931"></a><a name="p1203822173083931"></a>设置metadata上报模式，逐帧上报还是设备状态变化时上报。 <a href="_camera.md#ga8adaa4f26fffa98626a2c7e731393174">更多...</a></p>
</td>
</tr>
<tr id="row1886837451083931"><td class="cellrowborder" valign="top" width="49.95%" headers="mcps1.1.3.1.1 "><p id="p396986207083931"><a name="p396986207083931"></a><a name="p396986207083931"></a><a href="_camera.md#gaa1b81bee249efb9523a4d62659f28aef">OHOS::Camera::ICameraDevice::GetEnabledResults</a> (std::vector&lt; MetaType &gt; &amp;results)=0</p>
</td>
<td class="cellrowborder" valign="top" width="50.05%" headers="mcps1.1.3.1.2 "><p id="p1188172594083931"><a name="p1188172594083931"></a><a name="p1188172594083931"></a>查询使能的metadata。 <a href="_camera.md#gaa1b81bee249efb9523a4d62659f28aef">更多...</a></p>
</td>
</tr>
<tr id="row1378660795083931"><td class="cellrowborder" valign="top" width="49.95%" headers="mcps1.1.3.1.1 "><p id="p2015556098083931"><a name="p2015556098083931"></a><a name="p2015556098083931"></a><a href="_camera.md#ga265b16a5b7969045b38de95bf782b75c">OHOS::Camera::ICameraDevice::EnableResult</a> (const std::vector&lt; MetaType &gt; &amp;results)=0</p>
</td>
<td class="cellrowborder" valign="top" width="50.05%" headers="mcps1.1.3.1.2 "><p id="p2003459354083931"><a name="p2003459354083931"></a><a name="p2003459354083931"></a>打开metadata上报开关。 <a href="_camera.md#ga265b16a5b7969045b38de95bf782b75c">更多...</a></p>
</td>
</tr>
<tr id="row548934172083931"><td class="cellrowborder" valign="top" width="49.95%" headers="mcps1.1.3.1.1 "><p id="p608390016083931"><a name="p608390016083931"></a><a name="p608390016083931"></a><a href="_camera.md#ga68fd022b82dfba6d9431220faf9856bd">OHOS::Camera::ICameraDevice::DisableResult</a> (const std::vector&lt; MetaType &gt; &amp;results)=0</p>
</td>
<td class="cellrowborder" valign="top" width="50.05%" headers="mcps1.1.3.1.2 "><p id="p523581607083931"><a name="p523581607083931"></a><a name="p523581607083931"></a>关闭metadata上报开关。 <a href="_camera.md#ga68fd022b82dfba6d9431220faf9856bd">更多...</a></p>
</td>
</tr>
<tr id="row936880335083931"><td class="cellrowborder" valign="top" width="49.95%" headers="mcps1.1.3.1.1 "><p id="p1554364264083931"><a name="p1554364264083931"></a><a name="p1554364264083931"></a><a href="_camera.md#gadb49d58d852fb9edba89fd496c6a907b">OHOS::Camera::ICameraDevice::Close</a> ()=0</p>
</td>
<td class="cellrowborder" valign="top" width="50.05%" headers="mcps1.1.3.1.2 "><p id="p1502974393083931"><a name="p1502974393083931"></a><a name="p1502974393083931"></a>关闭Camera设备。 <a href="_camera.md#gadb49d58d852fb9edba89fd496c6a907b">更多...</a></p>
</td>
</tr>
<tr id="row1244505132083931"><td class="cellrowborder" valign="top" width="49.95%" headers="mcps1.1.3.1.1 "><p id="p462887098083931"><a name="p462887098083931"></a><a name="p462887098083931"></a><em id="ga2dbe7af264b30fe4568dfa54705a79d8"><a name="ga2dbe7af264b30fe4568dfa54705a79d8"></a><a name="ga2dbe7af264b30fe4568dfa54705a79d8"></a></em><strong id="b72729641083931"><a name="b72729641083931"></a><a name="b72729641083931"></a>OHOS::Camera::ICameraDeviceCallback::DECLARE_INTERFACE_DESCRIPTOR</strong> (u"HDI.Camera.V1_0.DeviceCallback")</p>
</td>
<td class="cellrowborder" valign="top" width="50.05%" headers="mcps1.1.3.1.2 "><p id="entry1047460637083931p0"><a name="entry1047460637083931p0"></a><a name="entry1047460637083931p0"></a>IPC通信token校验。</p>
</td>
</tr>
<tr id="row347083893083931"><td class="cellrowborder" valign="top" width="49.95%" headers="mcps1.1.3.1.1 "><p id="p1005786572083931"><a name="p1005786572083931"></a><a name="p1005786572083931"></a><a href="_camera.md#ga8a2014d4173fc7fae08e62b9d85b5333">OHOS::Camera::ICameraDeviceCallback::OnError</a> (<a href="_camera.md#ga4d1b650185695d9df8652593a7bc522d">ErrorType</a> type, int32_t errorCode)=0</p>
</td>
<td class="cellrowborder" valign="top" width="50.05%" headers="mcps1.1.3.1.2 "><p id="p1871963024083931"><a name="p1871963024083931"></a><a name="p1871963024083931"></a>设备发生错误时调用，由调用者实现，用于返回错误信息给调用者。 <a href="_camera.md#ga8a2014d4173fc7fae08e62b9d85b5333">更多...</a></p>
</td>
</tr>
<tr id="row1008442258083931"><td class="cellrowborder" valign="top" width="49.95%" headers="mcps1.1.3.1.1 "><p id="p685444643083931"><a name="p685444643083931"></a><a name="p685444643083931"></a><a href="_camera.md#gaaf9511e740682143565285edabc0b4ff">OHOS::Camera::ICameraDeviceCallback::OnResult</a> (uint64_t timestamp, const std::shared_ptr&lt; CameraMetadata &gt; &amp;result)=0</p>
</td>
<td class="cellrowborder" valign="top" width="50.05%" headers="mcps1.1.3.1.2 "><p id="p1564510067083931"><a name="p1564510067083931"></a><a name="p1564510067083931"></a>上报camera设备相关的metadata的回调，上报方式查看 <a href="_camera.md#ga8adaa4f26fffa98626a2c7e731393174">SetResultMode</a>。 <a href="_camera.md#gaaf9511e740682143565285edabc0b4ff">更多...</a></p>
</td>
</tr>
<tr id="row1232704456083931"><td class="cellrowborder" valign="top" width="49.95%" headers="mcps1.1.3.1.1 "><p id="p120012224083931"><a name="p120012224083931"></a><a name="p120012224083931"></a><em id="gad8c7c0302051d741018a5ceeac6322a4"><a name="gad8c7c0302051d741018a5ceeac6322a4"></a><a name="gad8c7c0302051d741018a5ceeac6322a4"></a></em><strong id="b2076328922083931"><a name="b2076328922083931"></a><a name="b2076328922083931"></a>OHOS::Camera::ICameraHost::DECLARE_INTERFACE_DESCRIPTOR</strong> (u"HDI.Camera.V1_0.Host")</p>
</td>
<td class="cellrowborder" valign="top" width="50.05%" headers="mcps1.1.3.1.2 "><p id="entry953928196083931p0"><a name="entry953928196083931p0"></a><a name="entry953928196083931p0"></a>IPC通信token校验。</p>
</td>
</tr>
<tr id="row1366196822083931"><td class="cellrowborder" valign="top" width="49.95%" headers="mcps1.1.3.1.1 "><p id="p1355027615083931"><a name="p1355027615083931"></a><a name="p1355027615083931"></a><a href="_camera.md#gaeec1c2ffe13be9abd9f4ab7b6fc83b21">OHOS::Camera::ICameraHost::Get</a> (const char *serviceName)</p>
</td>
<td class="cellrowborder" valign="top" width="50.05%" headers="mcps1.1.3.1.2 "><p id="p592024178083931"><a name="p592024178083931"></a><a name="p592024178083931"></a>获取ICameraHost实例。 <a href="_camera.md#gaeec1c2ffe13be9abd9f4ab7b6fc83b21">更多...</a></p>
</td>
</tr>
<tr id="row713641991083931"><td class="cellrowborder" valign="top" width="49.95%" headers="mcps1.1.3.1.1 "><p id="p499182140083931"><a name="p499182140083931"></a><a name="p499182140083931"></a><a href="_camera.md#ga3caa092a17467ce472498046b13fe685">OHOS::Camera::ICameraHost::SetCallback</a> (const OHOS::sptr&lt; <a href="_o_h_o_s_1_1_camera_1_1_i_camera_host_callback.md">ICameraHostCallback</a> &gt; &amp;callback)=0</p>
</td>
<td class="cellrowborder" valign="top" width="50.05%" headers="mcps1.1.3.1.2 "><p id="p553368128083931"><a name="p553368128083931"></a><a name="p553368128083931"></a>设置ICameraHost回调接口，回调函数参考 <a href="_o_h_o_s_1_1_camera_1_1_i_camera_host_callback.md">ICameraHostCallback</a>。 <a href="_camera.md#ga3caa092a17467ce472498046b13fe685">更多...</a></p>
</td>
</tr>
<tr id="row543656127083931"><td class="cellrowborder" valign="top" width="49.95%" headers="mcps1.1.3.1.1 "><p id="p1720558401083931"><a name="p1720558401083931"></a><a name="p1720558401083931"></a><a href="_camera.md#gab3128eb3432a830b2cff6bcd999bca10">OHOS::Camera::ICameraHost::GetCameraIds</a> (std::vector&lt; std::string &gt; &amp;cameraIds)=0</p>
</td>
<td class="cellrowborder" valign="top" width="50.05%" headers="mcps1.1.3.1.2 "><p id="p510670780083931"><a name="p510670780083931"></a><a name="p510670780083931"></a>获取当前可用的Camera设备ID列表。 <a href="_camera.md#gab3128eb3432a830b2cff6bcd999bca10">更多...</a></p>
</td>
</tr>
<tr id="row1650144153083931"><td class="cellrowborder" valign="top" width="49.95%" headers="mcps1.1.3.1.1 "><p id="p547706742083931"><a name="p547706742083931"></a><a name="p547706742083931"></a><a href="_camera.md#gad813ea200395e42a3ec2a457cc04b93d">OHOS::Camera::ICameraHost::GetCameraAbility</a> (const std::string &amp;cameraId, std::shared_ptr&lt; CameraAbility &gt; &amp;ability)=0</p>
</td>
<td class="cellrowborder" valign="top" width="50.05%" headers="mcps1.1.3.1.2 "><p id="p202879546083931"><a name="p202879546083931"></a><a name="p202879546083931"></a>获取Camera设备能力集合。 <a href="_camera.md#gad813ea200395e42a3ec2a457cc04b93d">更多...</a></p>
</td>
</tr>
<tr id="row90021122083931"><td class="cellrowborder" valign="top" width="49.95%" headers="mcps1.1.3.1.1 "><p id="p1310249392083931"><a name="p1310249392083931"></a><a name="p1310249392083931"></a><a href="_camera.md#gaf9e7aa942d3e31504d8ef5e710b029f1">OHOS::Camera::ICameraHost::OpenCamera</a> (const std::string &amp;cameraId, const OHOS::sptr&lt; <a href="_o_h_o_s_1_1_camera_1_1_i_camera_device_callback.md">ICameraDeviceCallback</a> &gt; &amp;callback, OHOS::sptr&lt; <a href="_o_h_o_s_1_1_camera_1_1_i_camera_device.md">ICameraDevice</a> &gt; &amp;device)=0</p>
</td>
<td class="cellrowborder" valign="top" width="50.05%" headers="mcps1.1.3.1.2 "><p id="p903310121083931"><a name="p903310121083931"></a><a name="p903310121083931"></a>打开Camera设备。 <a href="_camera.md#gaf9e7aa942d3e31504d8ef5e710b029f1">更多...</a></p>
</td>
</tr>
<tr id="row1779887481083931"><td class="cellrowborder" valign="top" width="49.95%" headers="mcps1.1.3.1.1 "><p id="p1543291280083931"><a name="p1543291280083931"></a><a name="p1543291280083931"></a><a href="_camera.md#gaa8e9b572081e0a489ca2f6772a7c18e8">OHOS::Camera::ICameraHost::SetFlashlight</a> (const std::string &amp;cameraId, bool &amp;isEnable)=0</p>
</td>
<td class="cellrowborder" valign="top" width="50.05%" headers="mcps1.1.3.1.2 "><p id="p403195756083931"><a name="p403195756083931"></a><a name="p403195756083931"></a>打开或关闭闪光灯。 <a href="_camera.md#gaa8e9b572081e0a489ca2f6772a7c18e8">更多...</a></p>
</td>
</tr>
<tr id="row594888192083931"><td class="cellrowborder" valign="top" width="49.95%" headers="mcps1.1.3.1.1 "><p id="p1902091890083931"><a name="p1902091890083931"></a><a name="p1902091890083931"></a><em id="gad78d28372942aa1b3be289f22c2db382"><a name="gad78d28372942aa1b3be289f22c2db382"></a><a name="gad78d28372942aa1b3be289f22c2db382"></a></em><strong id="b1669325884083931"><a name="b1669325884083931"></a><a name="b1669325884083931"></a>OHOS::Camera::ICameraHostCallback::DECLARE_INTERFACE_DESCRIPTOR</strong> (u"HDI.Camera.V1_0.HostCallback")</p>
</td>
<td class="cellrowborder" valign="top" width="50.05%" headers="mcps1.1.3.1.2 "><p id="entry863880264083931p0"><a name="entry863880264083931p0"></a><a name="entry863880264083931p0"></a>IPC通信token校验。</p>
</td>
</tr>
<tr id="row792692767083931"><td class="cellrowborder" valign="top" width="49.95%" headers="mcps1.1.3.1.1 "><p id="p793178365083931"><a name="p793178365083931"></a><a name="p793178365083931"></a><a href="_camera.md#ga6be010418aea15a4d4af8719c87b2ec0">OHOS::Camera::ICameraHostCallback::OnCameraStatus</a> (const std::string &amp;cameraId, <a href="_camera.md#gac2c065c30743f0053f460a6683845dad">CameraStatus</a> status)=0</p>
</td>
<td class="cellrowborder" valign="top" width="50.05%" headers="mcps1.1.3.1.2 "><p id="p1311848001083931"><a name="p1311848001083931"></a><a name="p1311848001083931"></a>用于Camera设备状态变化时上报状态信息给调用者。 <a href="_camera.md#ga6be010418aea15a4d4af8719c87b2ec0">更多...</a></p>
</td>
</tr>
<tr id="row1556591887083931"><td class="cellrowborder" valign="top" width="49.95%" headers="mcps1.1.3.1.1 "><p id="p1516041052083931"><a name="p1516041052083931"></a><a name="p1516041052083931"></a><a href="_camera.md#ga98ee7a84744d5d6fa5c8c6b304739452">OHOS::Camera::ICameraHostCallback::OnFlashlightStatus</a> (const std::string &amp;cameraId, <a href="_camera.md#ga1a82bc94cb6ff38f7fd0dfcffab71df3">FlashlightStatus</a> status)=0</p>
</td>
<td class="cellrowborder" valign="top" width="50.05%" headers="mcps1.1.3.1.2 "><p id="p392991462083931"><a name="p392991462083931"></a><a name="p392991462083931"></a>用于在闪光灯状态变化时上报状态信息给调用者。 <a href="_camera.md#ga98ee7a84744d5d6fa5c8c6b304739452">更多...</a></p>
</td>
</tr>
<tr id="row190757177083931"><td class="cellrowborder" valign="top" width="49.95%" headers="mcps1.1.3.1.1 "><p id="p1673559606083931"><a name="p1673559606083931"></a><a name="p1673559606083931"></a><a href="_camera.md#ga0e8cefd5c1069d26c989dd4435aa4e01">OHOS::Camera::ICameraHostCallback::OnCameraEvent</a> (const std::string &amp;cameraId, <a href="_camera.md#ga14253812c3a39d52d827589bf5e5b970">CameraEvent</a> event)=0</p>
</td>
<td class="cellrowborder" valign="top" width="50.05%" headers="mcps1.1.3.1.2 "><p id="p1628802654083931"><a name="p1628802654083931"></a><a name="p1628802654083931"></a>在相机事件发生时调用。 <a href="_camera.md#ga0e8cefd5c1069d26c989dd4435aa4e01">更多...</a></p>
</td>
</tr>
<tr id="row389148622083931"><td class="cellrowborder" valign="top" width="49.95%" headers="mcps1.1.3.1.1 "><p id="p630037450083931"><a name="p630037450083931"></a><a name="p630037450083931"></a><em id="ga45a61e69e882f6d01dcfe197f4137448"><a name="ga45a61e69e882f6d01dcfe197f4137448"></a><a name="ga45a61e69e882f6d01dcfe197f4137448"></a></em><strong id="b950646813083931"><a name="b950646813083931"></a><a name="b950646813083931"></a>OHOS::Camera::IOfflineStreamOperator::DECLARE_INTERFACE_DESCRIPTOR</strong> (u"HDI.Camera.V1_0.OfflineStreamOperator")</p>
</td>
<td class="cellrowborder" valign="top" width="50.05%" headers="mcps1.1.3.1.2 "><p id="p13262156643"><a name="p13262156643"></a><a name="p13262156643"></a>IPC通信token校验。</p>
</td>
</tr>
<tr id="row1894831722083931"><td class="cellrowborder" valign="top" width="49.95%" headers="mcps1.1.3.1.1 "><p id="p1839768284083931"><a name="p1839768284083931"></a><a name="p1839768284083931"></a><a href="_camera.md#ga83a9be20ab64cc481c0e5403e1873a10">OHOS::Camera::IOfflineStreamOperator::CancelCapture</a> (int captureId)=0</p>
</td>
<td class="cellrowborder" valign="top" width="50.05%" headers="mcps1.1.3.1.2 "><p id="p2094680900083931"><a name="p2094680900083931"></a><a name="p2094680900083931"></a>取消捕获请求。 <a href="_camera.md#ga83a9be20ab64cc481c0e5403e1873a10">更多...</a></p>
</td>
</tr>
<tr id="row1314444518083931"><td class="cellrowborder" valign="top" width="49.95%" headers="mcps1.1.3.1.1 "><p id="p1616159871083931"><a name="p1616159871083931"></a><a name="p1616159871083931"></a><a href="_camera.md#ga21d854d9b73f4417a4d30e508b32df1c">OHOS::Camera::IOfflineStreamOperator::ReleaseStreams</a> (const std::vector&lt; int &gt; &amp;streamIds)=0</p>
</td>
<td class="cellrowborder" valign="top" width="50.05%" headers="mcps1.1.3.1.2 "><p id="p403572745083931"><a name="p403572745083931"></a><a name="p403572745083931"></a>释放离线流。 <a href="_camera.md#ga21d854d9b73f4417a4d30e508b32df1c">更多...</a></p>
</td>
</tr>
<tr id="row2044949301083931"><td class="cellrowborder" valign="top" width="49.95%" headers="mcps1.1.3.1.1 "><p id="p2063544859083931"><a name="p2063544859083931"></a><a name="p2063544859083931"></a><a href="_camera.md#ga94f3df7ad19a986a821202bb2f6f9697">OHOS::Camera::IOfflineStreamOperator::Release</a> ()=0</p>
</td>
<td class="cellrowborder" valign="top" width="50.05%" headers="mcps1.1.3.1.2 "><p id="p389724723083931"><a name="p389724723083931"></a><a name="p389724723083931"></a>释放所有离线流。 <a href="_camera.md#ga94f3df7ad19a986a821202bb2f6f9697">更多...</a></p>
</td>
</tr>
<tr id="row63153764083931"><td class="cellrowborder" valign="top" width="49.95%" headers="mcps1.1.3.1.1 "><p id="p608296756083931"><a name="p608296756083931"></a><a name="p608296756083931"></a><em id="gabceb245672a8ef801aedf71347c5a366"><a name="gabceb245672a8ef801aedf71347c5a366"></a><a name="gabceb245672a8ef801aedf71347c5a366"></a></em><strong id="b686644321083931"><a name="b686644321083931"></a><a name="b686644321083931"></a>OHOS::Camera::IStreamOperator::DECLARE_INTERFACE_DESCRIPTOR</strong> (u"HDI.Camera.V1_0.StreamOperator")</p>
</td>
<td class="cellrowborder" valign="top" width="50.05%" headers="mcps1.1.3.1.2 "><p id="p1069559545"><a name="p1069559545"></a><a name="p1069559545"></a>IPC通信token校验。</p>
</td>
</tr>
<tr id="row609520891083931"><td class="cellrowborder" valign="top" width="49.95%" headers="mcps1.1.3.1.1 "><p id="p404986918083931"><a name="p404986918083931"></a><a name="p404986918083931"></a><a href="_camera.md#ga2ebad5dbf7873a2b3ab27900c4f5b0a7">OHOS::Camera::IStreamOperator::IsStreamsSupported</a> (<a href="_camera.md#gac397708a7aefbcf48c8a32b8af367ffd">OperationMode</a> mode, const std::shared_ptr&lt; CameraMetadata &gt; &amp;modeSetting, const std::vector&lt; std::shared_ptr&lt; <a href="_o_h_o_s_1_1_camera_1_1_stream_info.md">StreamInfo</a> &gt;&gt; &amp;info, <a href="_camera.md#ga2de5b91b51f744902c071f89d9302d56">StreamSupportType</a> &amp;type)=0</p>
</td>
<td class="cellrowborder" valign="top" width="50.05%" headers="mcps1.1.3.1.2 "><p id="p2140358146083931"><a name="p2140358146083931"></a><a name="p2140358146083931"></a>查询是否支持添加参数对应的流 <a href="_camera.md#ga2ebad5dbf7873a2b3ab27900c4f5b0a7">更多...</a></p>
</td>
</tr>
<tr id="row126516370083931"><td class="cellrowborder" valign="top" width="49.95%" headers="mcps1.1.3.1.1 "><p id="p1632398745083931"><a name="p1632398745083931"></a><a name="p1632398745083931"></a><a href="_camera.md#gac16ffa2d2f81bb62eb9ce556a0293c71">OHOS::Camera::IStreamOperator::CreateStreams</a> (const std::vector&lt; std::shared_ptr&lt; <a href="_o_h_o_s_1_1_camera_1_1_stream_info.md">StreamInfo</a> &gt;&gt; &amp;streamInfos)=0</p>
</td>
<td class="cellrowborder" valign="top" width="50.05%" headers="mcps1.1.3.1.2 "><p id="p657096778083931"><a name="p657096778083931"></a><a name="p657096778083931"></a>创建流。 <a href="_camera.md#gac16ffa2d2f81bb62eb9ce556a0293c71">更多...</a></p>
</td>
</tr>
<tr id="row673769228083931"><td class="cellrowborder" valign="top" width="49.95%" headers="mcps1.1.3.1.1 "><p id="p215421302083931"><a name="p215421302083931"></a><a name="p215421302083931"></a><a href="_camera.md#ga02abdd9797d1464a0adddf750a9b1eaf">OHOS::Camera::IStreamOperator::ReleaseStreams</a> (const std::vector&lt; int &gt; &amp;streamIds)=0</p>
</td>
<td class="cellrowborder" valign="top" width="50.05%" headers="mcps1.1.3.1.2 "><p id="p1684866288083931"><a name="p1684866288083931"></a><a name="p1684866288083931"></a>释放流。 <a href="_camera.md#ga02abdd9797d1464a0adddf750a9b1eaf">更多...</a></p>
</td>
</tr>
<tr id="row188960990083931"><td class="cellrowborder" valign="top" width="49.95%" headers="mcps1.1.3.1.1 "><p id="p1672487039083931"><a name="p1672487039083931"></a><a name="p1672487039083931"></a><a href="_camera.md#gab94792910f425ade060edcda5c5706d1">OHOS::Camera::IStreamOperator::CommitStreams</a> (<a href="_camera.md#gac397708a7aefbcf48c8a32b8af367ffd">OperationMode</a> mode, const std::shared_ptr&lt; CameraMetadata &gt; &amp;modeSetting)=0</p>
</td>
<td class="cellrowborder" valign="top" width="50.05%" headers="mcps1.1.3.1.2 "><p id="p376998117083931"><a name="p376998117083931"></a><a name="p376998117083931"></a>配置流。 <a href="_camera.md#gab94792910f425ade060edcda5c5706d1">更多...</a></p>
</td>
</tr>
<tr id="row122640480083931"><td class="cellrowborder" valign="top" width="49.95%" headers="mcps1.1.3.1.1 "><p id="p105556439083931"><a name="p105556439083931"></a><a name="p105556439083931"></a><a href="_camera.md#gac10fdfea46cfb848faaf94c09456840d">OHOS::Camera::IStreamOperator::GetStreamAttributes</a> (std::vector&lt; std::shared_ptr&lt; <a href="_o_h_o_s_1_1_camera_1_1_stream_attribute.md">StreamAttribute</a> &gt;&gt; &amp;attributes)=0</p>
</td>
<td class="cellrowborder" valign="top" width="50.05%" headers="mcps1.1.3.1.2 "><p id="p1042111323083931"><a name="p1042111323083931"></a><a name="p1042111323083931"></a>获取流的属性。 <a href="_camera.md#gac10fdfea46cfb848faaf94c09456840d">更多...</a></p>
</td>
</tr>
<tr id="row613095617083931"><td class="cellrowborder" valign="top" width="49.95%" headers="mcps1.1.3.1.1 "><p id="p189081882083931"><a name="p189081882083931"></a><a name="p189081882083931"></a><a href="_camera.md#gad17206bf96c260a9384f224d65a230af">OHOS::Camera::IStreamOperator::AttachBufferQueue</a> (int streamId, const OHOS::sptr&lt; OHOS::IBufferProducer &gt; &amp;producer)=0</p>
</td>
<td class="cellrowborder" valign="top" width="50.05%" headers="mcps1.1.3.1.2 "><p id="p831680237083931"><a name="p831680237083931"></a><a name="p831680237083931"></a>绑定生产者句柄和指定流。 <a href="_camera.md#gad17206bf96c260a9384f224d65a230af">更多...</a></p>
</td>
</tr>
<tr id="row1537993772083931"><td class="cellrowborder" valign="top" width="49.95%" headers="mcps1.1.3.1.1 "><p id="p815973259083931"><a name="p815973259083931"></a><a name="p815973259083931"></a><a href="_camera.md#gaad1232a57faf5c55ecfdab1c04f98951">OHOS::Camera::IStreamOperator::DetachBufferQueue</a> (int streamId)=0</p>
</td>
<td class="cellrowborder" valign="top" width="50.05%" headers="mcps1.1.3.1.2 "><p id="p588261851083931"><a name="p588261851083931"></a><a name="p588261851083931"></a>解除生产者句柄和指定流的绑定关系。 <a href="_camera.md#gaad1232a57faf5c55ecfdab1c04f98951">更多...</a></p>
</td>
</tr>
<tr id="row985603752083931"><td class="cellrowborder" valign="top" width="49.95%" headers="mcps1.1.3.1.1 "><p id="p1294073847083931"><a name="p1294073847083931"></a><a name="p1294073847083931"></a><a href="_camera.md#ga9fb8042cb01262bc08da16159975cf50">OHOS::Camera::IStreamOperator::Capture</a> (int captureId, const std::shared_ptr&lt; <a href="_o_h_o_s_1_1_camera_1_1_capture_info.md">CaptureInfo</a> &gt; &amp;info, bool isStreaming)=0</p>
</td>
<td class="cellrowborder" valign="top" width="50.05%" headers="mcps1.1.3.1.2 "><p id="p1679982388083931"><a name="p1679982388083931"></a><a name="p1679982388083931"></a>捕获图像。 <a href="_camera.md#ga9fb8042cb01262bc08da16159975cf50">更多...</a></p>
</td>
</tr>
<tr id="row2040234105083931"><td class="cellrowborder" valign="top" width="49.95%" headers="mcps1.1.3.1.1 "><p id="p1015267660083931"><a name="p1015267660083931"></a><a name="p1015267660083931"></a><a href="_camera.md#ga77100b740f501c309a573f9783313a61">OHOS::Camera::IStreamOperator::CancelCapture</a> (int captureId)=0</p>
</td>
<td class="cellrowborder" valign="top" width="50.05%" headers="mcps1.1.3.1.2 "><p id="p1584598333083931"><a name="p1584598333083931"></a><a name="p1584598333083931"></a>取消捕获。 <a href="_camera.md#ga77100b740f501c309a573f9783313a61">更多...</a></p>
</td>
</tr>
<tr id="row1172356165083931"><td class="cellrowborder" valign="top" width="49.95%" headers="mcps1.1.3.1.1 "><p id="p1860248522083931"><a name="p1860248522083931"></a><a name="p1860248522083931"></a><a href="_camera.md#gab97102d0e2d5bc1008924581fa9526fc">OHOS::Camera::IStreamOperator::ChangeToOfflineStream</a> (const std::vector&lt; int &gt; &amp;streamIds, OHOS::sptr&lt; <a href="_o_h_o_s_1_1_camera_1_1_i_stream_operator_callback.md">IStreamOperatorCallback</a> &gt; &amp;callback, OHOS::sptr&lt; <a href="_o_h_o_s_1_1_camera_1_1_i_offline_stream_operator.md">IOfflineStreamOperator</a> &gt; &amp;offlineOperator)=0</p>
</td>
<td class="cellrowborder" valign="top" width="50.05%" headers="mcps1.1.3.1.2 "><p id="p1020344433083931"><a name="p1020344433083931"></a><a name="p1020344433083931"></a>将指定流转换成离线流。 <a href="_camera.md#gab97102d0e2d5bc1008924581fa9526fc">更多...</a></p>
</td>
</tr>
<tr id="row54339707083931"><td class="cellrowborder" valign="top" width="49.95%" headers="mcps1.1.3.1.1 "><p id="p1539498927083931"><a name="p1539498927083931"></a><a name="p1539498927083931"></a><em id="ga7b8119c1d444400010f332383f7774a4"><a name="ga7b8119c1d444400010f332383f7774a4"></a><a name="ga7b8119c1d444400010f332383f7774a4"></a></em><strong id="b1405963466083931"><a name="b1405963466083931"></a><a name="b1405963466083931"></a>OHOS::Camera::IStreamOperatorCallback::DECLARE_INTERFACE_DESCRIPTOR</strong> (u"HDI.Camera.V1_0.StreamOperatorCallback")</p>
</td>
<td class="cellrowborder" valign="top" width="50.05%" headers="mcps1.1.3.1.2 "><p id="p8416921559"><a name="p8416921559"></a><a name="p8416921559"></a>IPC通信token校验。</p>
</td>
</tr>
<tr id="row520779995083931"><td class="cellrowborder" valign="top" width="49.95%" headers="mcps1.1.3.1.1 "><p id="p1240708588083931"><a name="p1240708588083931"></a><a name="p1240708588083931"></a><a href="_camera.md#ga6389672b42dcead4067bbb06aa7b8c18">OHOS::Camera::IStreamOperatorCallback::OnCaptureStarted</a> (int32_t captureId, const std::vector&lt; int32_t &gt; &amp;streamIds)=0</p>
</td>
<td class="cellrowborder" valign="top" width="50.05%" headers="mcps1.1.3.1.2 "><p id="p992311450083931"><a name="p992311450083931"></a><a name="p992311450083931"></a>捕获开始回调，在捕获开始时调用。 <a href="_camera.md#ga6389672b42dcead4067bbb06aa7b8c18">更多...</a></p>
</td>
</tr>
<tr id="row219604560083931"><td class="cellrowborder" valign="top" width="49.95%" headers="mcps1.1.3.1.1 "><p id="p401241658083931"><a name="p401241658083931"></a><a name="p401241658083931"></a><a href="_camera.md#ga3761990cab402ce99251b26e3802070d">OHOS::Camera::IStreamOperatorCallback::OnCaptureEnded</a> (int32_t captureId, const std::vector&lt; std::shared_ptr&lt; <a href="_o_h_o_s_1_1_camera_1_1_capture_ended_info.md">CaptureEndedInfo</a> &gt;&gt; &amp;infos)=0</p>
</td>
<td class="cellrowborder" valign="top" width="50.05%" headers="mcps1.1.3.1.2 "><p id="p1162544644083931"><a name="p1162544644083931"></a><a name="p1162544644083931"></a>捕获结束回调，在捕获结束时调用。 <a href="_camera.md#ga3761990cab402ce99251b26e3802070d">更多...</a></p>
</td>
</tr>
<tr id="row1062915435083931"><td class="cellrowborder" valign="top" width="49.95%" headers="mcps1.1.3.1.1 "><p id="p1758855743083931"><a name="p1758855743083931"></a><a name="p1758855743083931"></a><a href="_camera.md#gacea9a4cf4bdd5fab5499da06ecdf9b8f">OHOS::Camera::IStreamOperatorCallback::OnCaptureError</a> (int32_t captureId, const std::vector&lt; std::shared_ptr&lt; <a href="_o_h_o_s_1_1_camera_1_1_capture_error_info.md">CaptureErrorInfo</a> &gt;&gt; &amp;infos)=0</p>
</td>
<td class="cellrowborder" valign="top" width="50.05%" headers="mcps1.1.3.1.2 "><p id="p1395960513083931"><a name="p1395960513083931"></a><a name="p1395960513083931"></a>捕获错误回调，在捕获过程中发生错误时调用。 <a href="_camera.md#gacea9a4cf4bdd5fab5499da06ecdf9b8f">更多...</a></p>
</td>
</tr>
<tr id="row2125033703083931"><td class="cellrowborder" valign="top" width="49.95%" headers="mcps1.1.3.1.1 "><p id="p589415192083931"><a name="p589415192083931"></a><a name="p589415192083931"></a><a href="_camera.md#gabf1554ca18f9724a7551a864e610534e">OHOS::Camera::IStreamOperatorCallback::OnFrameShutter</a> (int32_t captureId, const std::vector&lt; int32_t &gt; &amp;streamIds, uint64_t timestamp)=0</p>
</td>
<td class="cellrowborder" valign="top" width="50.05%" headers="mcps1.1.3.1.2 "><p id="p574948878083931"><a name="p574948878083931"></a><a name="p574948878083931"></a>帧捕获回调。 <a href="_camera.md#gabf1554ca18f9724a7551a864e610534e">更多...</a></p>
</td>
</tr>
</tbody>
</table>

## 变量<a name="var-members"></a>

<a name="table1260124563083931"></a>
<table><thead align="left"><tr id="row876422531083931"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p1005813671083931"><a name="p1005813671083931"></a><a name="p1005813671083931"></a>变量 名称</p>
</th>
<th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p1996445378083931"><a name="p1996445378083931"></a><a name="p1996445378083931"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row1787242358083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p952278638083931"><a name="p952278638083931"></a><a name="p952278638083931"></a><a href="_camera.md#ga1089ac7f52e34345be702a4bb4c85d38">OHOS::Camera::StreamInfo::streamId_</a></p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="entry2052172220083931p0"><a name="entry2052172220083931p0"></a><a name="entry2052172220083931p0"></a>流的ID，用于在设备内唯一标识一条流。</p>
</td>
</tr>
<tr id="row1456236918083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p2080932416083931"><a name="p2080932416083931"></a><a name="p2080932416083931"></a><a href="_camera.md#ga92dbc0abb2c760b1f8b6ec063bfffcd9">OHOS::Camera::StreamInfo::width_</a></p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="entry422772469083931p0"><a name="entry422772469083931p0"></a><a name="entry422772469083931p0"></a>图像宽度。</p>
</td>
</tr>
<tr id="row563111185083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p117173299083931"><a name="p117173299083931"></a><a name="p117173299083931"></a><a href="_camera.md#gab9a2907e1c21f2c8218ede013407d5ec">OHOS::Camera::StreamInfo::height_</a></p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="entry668668252083931p0"><a name="entry668668252083931p0"></a><a name="entry668668252083931p0"></a>图像高度。</p>
</td>
</tr>
<tr id="row2123951072083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p248857462083931"><a name="p248857462083931"></a><a name="p248857462083931"></a><a href="_camera.md#gaebd456528d152ee36557253b79153bea">OHOS::Camera::StreamInfo::format_</a></p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="entry1890527791083931p0"><a name="entry1890527791083931p0"></a><a name="entry1890527791083931p0"></a>图像格式。</p>
</td>
</tr>
<tr id="row1413810623083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p484602321083931"><a name="p484602321083931"></a><a name="p484602321083931"></a><a href="_camera.md#gaa37b41817162eb97c6020bd19d9b2409">OHOS::Camera::StreamInfo::datasapce_</a></p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="entry394910926083931p0"><a name="entry394910926083931p0"></a><a name="entry394910926083931p0"></a>图像颜色空间。</p>
</td>
</tr>
<tr id="row409619223083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1125805211083931"><a name="p1125805211083931"></a><a name="p1125805211083931"></a><a href="_camera.md#ga7bde9a7e5f2d2c59f4e210782bf7f008">OHOS::Camera::StreamInfo::intent_</a></p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="entry1284557351083931p0"><a name="entry1284557351083931p0"></a><a name="entry1284557351083931p0"></a>流类型。</p>
</td>
</tr>
<tr id="row872358984083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1828715419083931"><a name="p1828715419083931"></a><a name="p1828715419083931"></a><a href="_camera.md#ga674e0bd0cf516ca46f76bb8ef8b05d75">OHOS::Camera::StreamInfo::tunneledMode_</a></p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="entry667712484083931p0"><a name="entry667712484083931p0"></a><a name="entry667712484083931p0"></a>隧道模式，值为true时开启，false关闭。</p>
</td>
</tr>
<tr id="row888962981083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1140046561083931"><a name="p1140046561083931"></a><a name="p1140046561083931"></a><a href="_camera.md#ga99159e868ae5cbdb481c632b2d2b6cea">OHOS::Camera::StreamInfo::bufferQueue_</a></p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p237212193819"><a name="p237212193819"></a><a name="p237212193819"></a>图形提供的生产者句柄。</p>
</td>
</tr>
<tr id="row223913975083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1750836125083931"><a name="p1750836125083931"></a><a name="p1750836125083931"></a><a href="_camera.md#gaf939bbf9d30f735b8164c23553fccf9e">OHOS::Camera::StreamInfo::minFrameDuration_</a></p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p43172343814"><a name="p43172343814"></a><a name="p43172343814"></a>最小帧间隔。</p>
</td>
</tr>
<tr id="row322816128083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p541874124083931"><a name="p541874124083931"></a><a name="p541874124083931"></a><a href="_camera.md#ga2319c28d22981a24a5b28906673cac4d">OHOS::Camera::StreamInfo::encodeType_</a></p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p11345250185"><a name="p11345250185"></a><a name="p11345250185"></a>编码类型。</p>
</td>
</tr>
<tr id="row1190423755083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p509258901083931"><a name="p509258901083931"></a><a name="p509258901083931"></a><a href="_camera.md#ga50b8d508367267fcf6405aaecb11b876">OHOS::Camera::StreamAttribute::streamId_</a></p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p6824163118919"><a name="p6824163118919"></a><a name="p6824163118919"></a>流的ID，用于在设备内唯一标识一条流。</p>
</td>
</tr>
<tr id="row1049639424083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1723333004083931"><a name="p1723333004083931"></a><a name="p1723333004083931"></a><a href="_camera.md#gae8ccba46ee84e78d4fdbf2f4ed167af0">OHOS::Camera::StreamAttribute::width_</a></p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="entry194656890083931p0"><a name="entry194656890083931p0"></a><a name="entry194656890083931p0"></a>图像宽度。</p>
</td>
</tr>
<tr id="row1387845916083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p376013053083931"><a name="p376013053083931"></a><a name="p376013053083931"></a><a href="_camera.md#ga00141105fac73b5e87f8071517822afa">OHOS::Camera::StreamAttribute::height_</a></p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="entry1841871742083931p0"><a name="entry1841871742083931p0"></a><a name="entry1841871742083931p0"></a>图像高度。</p>
</td>
</tr>
<tr id="row939302994083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p19612373083931"><a name="p19612373083931"></a><a name="p19612373083931"></a><a href="_camera.md#ga50b990f6b69fb3d4934cbd6cf42a8288">OHOS::Camera::StreamAttribute::overrideFormat_</a></p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="entry1647495646083931p0"><a name="entry1647495646083931p0"></a><a name="entry1647495646083931p0"></a>重写的图像格式。</p>
</td>
</tr>
<tr id="row961807015083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p219556481083931"><a name="p219556481083931"></a><a name="p219556481083931"></a><a href="_camera.md#ga8603075c05fa41ed925759720c5c6313">OHOS::Camera::StreamAttribute::overrideDatasapce_</a></p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p13317944121112"><a name="p13317944121112"></a><a name="p13317944121112"></a>重写的图像颜色空间。</p>
</td>
</tr>
<tr id="row390328957083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1306794507083931"><a name="p1306794507083931"></a><a name="p1306794507083931"></a><a href="_camera.md#ga648588703444dbbcd9e4fe83564ada25">OHOS::Camera::StreamAttribute::producerUsage_</a></p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="entry360560652083931p0"><a name="entry360560652083931p0"></a><a name="entry360560652083931p0"></a>重写后的生产者的使用方式。</p>
</td>
</tr>
<tr id="row2015677674083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p913022080083931"><a name="p913022080083931"></a><a name="p913022080083931"></a><a href="_camera.md#gad335c181edb61fb1301e3611d6124cf3">OHOS::Camera::StreamAttribute::producerBufferCount_</a></p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="entry1446504409083931p0"><a name="entry1446504409083931p0"></a><a name="entry1446504409083931p0"></a>重写后的生产者缓存数量。</p>
</td>
</tr>
<tr id="row1020460547083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p206217155083931"><a name="p206217155083931"></a><a name="p206217155083931"></a><a href="_camera.md#ga4313d8864a29006968ef6b1fd906c60e">OHOS::Camera::StreamAttribute::maxBatchCaptureCount_</a></p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="entry53904827083931p0"><a name="entry53904827083931p0"></a><a name="entry53904827083931p0"></a>连拍支持的最大捕获帧数量。</p>
</td>
</tr>
<tr id="row1532667545083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1047798682083931"><a name="p1047798682083931"></a><a name="p1047798682083931"></a><a href="_camera.md#ga2319608360ac79ca5306fb5fbc5b4c39">OHOS::Camera::StreamAttribute::maxCaptureCount_</a></p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="entry1532567369083931p0"><a name="entry1532567369083931p0"></a><a name="entry1532567369083931p0"></a>最大的并发捕获请求个数，默认为1。</p>
</td>
</tr>
<tr id="row299776882083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1707244674083931"><a name="p1707244674083931"></a><a name="p1707244674083931"></a><a href="_camera.md#ga09d7f38a0f985fbe95ebabf4dd905e29">OHOS::Camera::CaptureInfo::streamIds_</a></p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p135991033141420"><a name="p135991033141420"></a><a name="p135991033141420"></a>捕获的流ID集合。</p>
</td>
</tr>
<tr id="row2033100013083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p872858916083931"><a name="p872858916083931"></a><a name="p872858916083931"></a><a href="_camera.md#gaf9b4dd844035812188033a902997db0e">OHOS::Camera::CaptureInfo::captureSetting_</a></p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="entry568752178083931p0"><a name="entry568752178083931p0"></a><a name="entry568752178083931p0"></a>捕获的配置信息。</p>
</td>
</tr>
<tr id="row592160463083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p25816201083931"><a name="p25816201083931"></a><a name="p25816201083931"></a><a href="_camera.md#ga98ac0d6060245795d659dc3b9878bf01">OHOS::Camera::CaptureInfo::enableShutterCallback_</a></p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="entry506466629083931p0"><a name="entry506466629083931p0"></a><a name="entry506466629083931p0"></a>使能捕获回调。</p>
</td>
</tr>
<tr id="row1351830446083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p863554707083931"><a name="p863554707083931"></a><a name="p863554707083931"></a><a href="_camera.md#ga51d3957467453682897dbbf72a3ce13b">OHOS::Camera::CaptureEndedInfo::streamId_</a></p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p12726628141516"><a name="p12726628141516"></a><a name="p12726628141516"></a>捕获的流ID。</p>
</td>
</tr>
<tr id="row38283174083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1872772083083931"><a name="p1872772083083931"></a><a name="p1872772083083931"></a><a href="_camera.md#gad4c5d2c032c292bb4f8afab11d6b3edd">OHOS::Camera::CaptureEndedInfo::frameCount_</a></p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p2024813514159"><a name="p2024813514159"></a><a name="p2024813514159"></a>捕获结束时已经抓取的帧数。</p>
</td>
</tr>
<tr id="row1212565614083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p948335494083931"><a name="p948335494083931"></a><a name="p948335494083931"></a><a href="_camera.md#ga9474ba692818d9302e29ca9438d58eea">OHOS::Camera::CaptureErrorInfo::streamId_</a></p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p37362419164"><a name="p37362419164"></a><a name="p37362419164"></a>流ID。</p>
</td>
</tr>
<tr id="row1139748658083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="p1088114985083931"><a name="p1088114985083931"></a><a name="p1088114985083931"></a><a href="_camera.md#ga26a0ca05e4de350dbbc0643030ad9833">OHOS::Camera::CaptureErrorInfo::error_</a></p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1914612181712"><a name="p1914612181712"></a><a name="p1914612181712"></a>错误类型。</p>
</td>
</tr>
</tbody>
</table>

## **详细描述**<a name="section1197898089083931"></a>

Camera模块接口定义。

Camera模块涉及相机设备的操作、流的操作、离线流的操作和各种回调等。

**Since：**

1.0

## **枚举类型说明**<a name="section1714824112083931"></a>

## CameraEvent<a name="ga14253812c3a39d52d827589bf5e5b970"></a>

```
enum OHOS::Camera::CameraEvent : uint32_t
```

**描述：**

Camera事件。

<a name="table675004019083931"></a>
<table><thead align="left"><tr id="row944568680083931"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p132880285083931"><a name="p132880285083931"></a><a name="p132880285083931"></a>枚举值</p>
</th>
<th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p177653646083931"><a name="p177653646083931"></a><a name="p177653646083931"></a><strong id="b178925515455"><a name="b178925515455"></a><a name="b178925515455"></a>描述</strong></p>
</th>
</tr>
</thead>
<tbody><tr id="row1336931902083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry1941566194083931p0"><a name="entry1941566194083931p0"></a><a name="entry1941566194083931p0"></a><strong id="gga14253812c3a39d52d827589bf5e5b970a85028d1dd16bef4b3f60e9543f2c89d8"><a name="gga14253812c3a39d52d827589bf5e5b970a85028d1dd16bef4b3f60e9543f2c89d8"></a><a name="gga14253812c3a39d52d827589bf5e5b970a85028d1dd16bef4b3f60e9543f2c89d8"></a></strong>CAMERA_EVENT_DEVICE_ADD</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p883506449083931"><a name="p883506449083931"></a><a name="p883506449083931"></a>Camera设备增加事件。</p>
<p id="p71271388582"><a name="p71271388582"></a><a name="p71271388582"></a></p>
</td>
</tr>
<tr id="row569542938083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry1557031296083931p0"><a name="entry1557031296083931p0"></a><a name="entry1557031296083931p0"></a><strong id="gga14253812c3a39d52d827589bf5e5b970a715b664103cdf584fb48ed5e7c591c06"><a name="gga14253812c3a39d52d827589bf5e5b970a715b664103cdf584fb48ed5e7c591c06"></a><a name="gga14253812c3a39d52d827589bf5e5b970a715b664103cdf584fb48ed5e7c591c06"></a></strong>CAMERA_EVENT_DEVICE_RMV</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1811680551083931"><a name="p1811680551083931"></a><a name="p1811680551083931"></a>Camera设备删除事件。</p>
<p id="p51271938105817"><a name="p51271938105817"></a><a name="p51271938105817"></a></p>
</td>
</tr>
</tbody>
</table>

## CameraStatus<a name="gac2c065c30743f0053f460a6683845dad"></a>

```
enum OHOS::Camera::CameraStatus
```

**描述：**

Camera设备状态。

<a name="table1387534831083931"></a>
<table><thead align="left"><tr id="row889077416083931"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p1789998174083931"><a name="p1789998174083931"></a><a name="p1789998174083931"></a>枚举值</p>
</th>
<th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p6463510083931"><a name="p6463510083931"></a><a name="p6463510083931"></a><strong id="b1692611599455"><a name="b1692611599455"></a><a name="b1692611599455"></a>描述</strong></p>
</th>
</tr>
</thead>
<tbody><tr id="row1440402031083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry1085125330083931p0"><a name="entry1085125330083931p0"></a><a name="entry1085125330083931p0"></a><strong id="ggac2c065c30743f0053f460a6683845dadaefabd193aca6ec50ad022c4003b079bd"><a name="ggac2c065c30743f0053f460a6683845dadaefabd193aca6ec50ad022c4003b079bd"></a><a name="ggac2c065c30743f0053f460a6683845dadaefabd193aca6ec50ad022c4003b079bd"></a></strong>UN_AVAILABLE</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p48668383083931"><a name="p48668383083931"></a><a name="p48668383083931"></a>设备当前不在位或者不可用。</p>
<p id="p16132938195811"><a name="p16132938195811"></a><a name="p16132938195811"></a></p>
</td>
</tr>
<tr id="row2139737744083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry1227859928083931p0"><a name="entry1227859928083931p0"></a><a name="entry1227859928083931p0"></a><strong id="ggac2c065c30743f0053f460a6683845dada41bd9156c9456c38aa47cf0b8b2486a2"><a name="ggac2c065c30743f0053f460a6683845dada41bd9156c9456c38aa47cf0b8b2486a2"></a><a name="ggac2c065c30743f0053f460a6683845dada41bd9156c9456c38aa47cf0b8b2486a2"></a></strong>AVAILABLE</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p144529921083931"><a name="p144529921083931"></a><a name="p144529921083931"></a>设备当前可用。</p>
<p id="p1513263805812"><a name="p1513263805812"></a><a name="p1513263805812"></a></p>
</td>
</tr>
</tbody>
</table>

## CamRetCode<a name="ga9ecee2f0e6599644dc440c9e1c553b80"></a>

```
enum OHOS::Camera::CamRetCode : int32_t
```

**描述：**

HDI接口的返回值。

<a name="table1990909847083931"></a>
<table><thead align="left"><tr id="row806272884083931"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p842195940083931"><a name="p842195940083931"></a><a name="p842195940083931"></a>枚举值</p>
</th>
<th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p1255600145083931"><a name="p1255600145083931"></a><a name="p1255600145083931"></a><strong id="b101168519469"><a name="b101168519469"></a><a name="b101168519469"></a>描述</strong></p>
</th>
</tr>
</thead>
<tbody><tr id="row759992618083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry1357359850083931p0"><a name="entry1357359850083931p0"></a><a name="entry1357359850083931p0"></a><strong id="gga9ecee2f0e6599644dc440c9e1c553b80aac4124a539038c0eb9752f19bd41db9a"><a name="gga9ecee2f0e6599644dc440c9e1c553b80aac4124a539038c0eb9752f19bd41db9a"></a><a name="gga9ecee2f0e6599644dc440c9e1c553b80aac4124a539038c0eb9752f19bd41db9a"></a></strong>NO_ERROR</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p202930040083931"><a name="p202930040083931"></a><a name="p202930040083931"></a>调用成功。</p>
<p id="p9136538155819"><a name="p9136538155819"></a><a name="p9136538155819"></a></p>
</td>
</tr>
<tr id="row60696602083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry1282550950083931p0"><a name="entry1282550950083931p0"></a><a name="entry1282550950083931p0"></a><strong id="gga9ecee2f0e6599644dc440c9e1c553b80a6d812337e14eb19f8afb2e70f3aad1a0"><a name="gga9ecee2f0e6599644dc440c9e1c553b80a6d812337e14eb19f8afb2e70f3aad1a0"></a><a name="gga9ecee2f0e6599644dc440c9e1c553b80a6d812337e14eb19f8afb2e70f3aad1a0"></a></strong>CAMERA_BUSY</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1845044423083931"><a name="p1845044423083931"></a><a name="p1845044423083931"></a>设备当前忙。</p>
<p id="p3136153812583"><a name="p3136153812583"></a><a name="p3136153812583"></a></p>
</td>
</tr>
<tr id="row1719530219083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry1116093951083931p0"><a name="entry1116093951083931p0"></a><a name="entry1116093951083931p0"></a><strong id="gga9ecee2f0e6599644dc440c9e1c553b80a7250a9e68d64f0804d92f99e8cbc1e7e"><a name="gga9ecee2f0e6599644dc440c9e1c553b80a7250a9e68d64f0804d92f99e8cbc1e7e"></a><a name="gga9ecee2f0e6599644dc440c9e1c553b80a7250a9e68d64f0804d92f99e8cbc1e7e"></a></strong>INSUFFICIENT_RESOURCES</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1506059030083931"><a name="p1506059030083931"></a><a name="p1506059030083931"></a>资源不足。</p>
<p id="p913663820585"><a name="p913663820585"></a><a name="p913663820585"></a></p>
</td>
</tr>
<tr id="row209027087083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry1893027460083931p0"><a name="entry1893027460083931p0"></a><a name="entry1893027460083931p0"></a><strong id="gga9ecee2f0e6599644dc440c9e1c553b80a9cfb72153a13ecf08abb34d59bec2223"><a name="gga9ecee2f0e6599644dc440c9e1c553b80a9cfb72153a13ecf08abb34d59bec2223"></a><a name="gga9ecee2f0e6599644dc440c9e1c553b80a9cfb72153a13ecf08abb34d59bec2223"></a></strong>INVALID_ARGUMENT</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1934871742083931"><a name="p1934871742083931"></a><a name="p1934871742083931"></a>参数错误。</p>
<p id="p21362038195816"><a name="p21362038195816"></a><a name="p21362038195816"></a></p>
</td>
</tr>
<tr id="row391186481083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry2055864409083931p0"><a name="entry2055864409083931p0"></a><a name="entry2055864409083931p0"></a><strong id="gga9ecee2f0e6599644dc440c9e1c553b80ae66837f5eefe837cf5777083e1aaadcc"><a name="gga9ecee2f0e6599644dc440c9e1c553b80ae66837f5eefe837cf5777083e1aaadcc"></a><a name="gga9ecee2f0e6599644dc440c9e1c553b80ae66837f5eefe837cf5777083e1aaadcc"></a></strong>METHOD_NOT_SUPPORTED</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1101530828083931"><a name="p1101530828083931"></a><a name="p1101530828083931"></a>不支持当前调用方法。</p>
<p id="p613613388587"><a name="p613613388587"></a><a name="p613613388587"></a></p>
</td>
</tr>
<tr id="row893835201083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry886651331083931p0"><a name="entry886651331083931p0"></a><a name="entry886651331083931p0"></a><strong id="gga9ecee2f0e6599644dc440c9e1c553b80a0322e66dfb3b398ead3bd50c823415cd"><a name="gga9ecee2f0e6599644dc440c9e1c553b80a0322e66dfb3b398ead3bd50c823415cd"></a><a name="gga9ecee2f0e6599644dc440c9e1c553b80a0322e66dfb3b398ead3bd50c823415cd"></a></strong>CAMERA_CLOSED</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p671767447083931"><a name="p671767447083931"></a><a name="p671767447083931"></a>Camera设备已经关闭。</p>
<p id="p1913663825817"><a name="p1913663825817"></a><a name="p1913663825817"></a></p>
</td>
</tr>
<tr id="row672861831083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry1379348208083931p0"><a name="entry1379348208083931p0"></a><a name="entry1379348208083931p0"></a><strong id="gga9ecee2f0e6599644dc440c9e1c553b80a2b74d8a616b4360eec8826d9810c03c0"><a name="gga9ecee2f0e6599644dc440c9e1c553b80a2b74d8a616b4360eec8826d9810c03c0"></a><a name="gga9ecee2f0e6599644dc440c9e1c553b80a2b74d8a616b4360eec8826d9810c03c0"></a></strong>DEVICE_ERROR</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p2014096552083931"><a name="p2014096552083931"></a><a name="p2014096552083931"></a>驱动层发生严重错误。</p>
<p id="p171361386583"><a name="p171361386583"></a><a name="p171361386583"></a></p>
</td>
</tr>
</tbody>
</table>

## EncodeType<a name="ga57d3c5974b8119b90f6f43592bd4b1d1"></a>

```
enum OHOS::Camera::EncodeType : int32_t
```

**描述：**

流数据的编码类型。

<a name="table1222862537083931"></a>
<table><thead align="left"><tr id="row1727217927083931"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p790006002083931"><a name="p790006002083931"></a><a name="p790006002083931"></a>枚举值</p>
</th>
<th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p169073359083931"><a name="p169073359083931"></a><a name="p169073359083931"></a><strong id="b18571099467"><a name="b18571099467"></a><a name="b18571099467"></a>描述</strong></p>
</th>
</tr>
</thead>
<tbody><tr id="row1371521372083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry1173273606083931p0"><a name="entry1173273606083931p0"></a><a name="entry1173273606083931p0"></a><strong id="gga57d3c5974b8119b90f6f43592bd4b1d1af72ea69717272db8b03c0d2281c2f221"><a name="gga57d3c5974b8119b90f6f43592bd4b1d1af72ea69717272db8b03c0d2281c2f221"></a><a name="gga57d3c5974b8119b90f6f43592bd4b1d1af72ea69717272db8b03c0d2281c2f221"></a></strong>ENCODE_TYPE_NULL</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1003549632083931"><a name="p1003549632083931"></a><a name="p1003549632083931"></a>未设置编码类型</p>
<p id="p91541538105814"><a name="p91541538105814"></a><a name="p91541538105814"></a></p>
</td>
</tr>
<tr id="row372952877083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry717775065083931p0"><a name="entry717775065083931p0"></a><a name="entry717775065083931p0"></a><strong id="gga57d3c5974b8119b90f6f43592bd4b1d1a6d21ce4760d97641e66c9a6a58df6105"><a name="gga57d3c5974b8119b90f6f43592bd4b1d1a6d21ce4760d97641e66c9a6a58df6105"></a><a name="gga57d3c5974b8119b90f6f43592bd4b1d1a6d21ce4760d97641e66c9a6a58df6105"></a></strong>ENCODE_TYPE_H264</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p225358010083931"><a name="p225358010083931"></a><a name="p225358010083931"></a>编码类型为H264。</p>
<p id="p4154138115814"><a name="p4154138115814"></a><a name="p4154138115814"></a></p>
</td>
</tr>
<tr id="row541019397083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry1487721176083931p0"><a name="entry1487721176083931p0"></a><a name="entry1487721176083931p0"></a><strong id="gga57d3c5974b8119b90f6f43592bd4b1d1a60e25172afdb6ca5f18db408485c1cdf"><a name="gga57d3c5974b8119b90f6f43592bd4b1d1a60e25172afdb6ca5f18db408485c1cdf"></a><a name="gga57d3c5974b8119b90f6f43592bd4b1d1a60e25172afdb6ca5f18db408485c1cdf"></a></strong>ENCODE_TYPE_H265</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p553178025083931"><a name="p553178025083931"></a><a name="p553178025083931"></a>编码类型为H265。</p>
<p id="p1915443815586"><a name="p1915443815586"></a><a name="p1915443815586"></a></p>
</td>
</tr>
<tr id="row1465609301083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry836278412083931p0"><a name="entry836278412083931p0"></a><a name="entry836278412083931p0"></a><strong id="gga57d3c5974b8119b90f6f43592bd4b1d1a1cf15a45d92fa0eae74c778f09d4bae7"><a name="gga57d3c5974b8119b90f6f43592bd4b1d1a1cf15a45d92fa0eae74c778f09d4bae7"></a><a name="gga57d3c5974b8119b90f6f43592bd4b1d1a1cf15a45d92fa0eae74c778f09d4bae7"></a></strong>ENCODE_TYPE_JPEG</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1338130969083931"><a name="p1338130969083931"></a><a name="p1338130969083931"></a>编码类型为JPEG。</p>
<p id="p0154183820588"><a name="p0154183820588"></a><a name="p0154183820588"></a></p>
</td>
</tr>
</tbody>
</table>

## ErrorType<a name="ga4d1b650185695d9df8652593a7bc522d"></a>

```
enum OHOS::Camera::ErrorType : uint32_t
```

**描述：**

设备错误类型，用于设备错误回调  **OnError**。

<a name="table1233493039083931"></a>
<table><thead align="left"><tr id="row1254709248083931"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p665227550083931"><a name="p665227550083931"></a><a name="p665227550083931"></a>枚举值</p>
</th>
<th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p1417608514083931"><a name="p1417608514083931"></a><a name="p1417608514083931"></a><strong id="b19994101384615"><a name="b19994101384615"></a><a name="b19994101384615"></a>描述</strong></p>
</th>
</tr>
</thead>
<tbody><tr id="row232287773083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry779027977083931p0"><a name="entry779027977083931p0"></a><a name="entry779027977083931p0"></a><strong id="gga4d1b650185695d9df8652593a7bc522dad0dde9e602d14d5b583be24c5014f998"><a name="gga4d1b650185695d9df8652593a7bc522dad0dde9e602d14d5b583be24c5014f998"></a><a name="gga4d1b650185695d9df8652593a7bc522dad0dde9e602d14d5b583be24c5014f998"></a></strong>FATAL_ERROR</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1176832476083931"><a name="p1176832476083931"></a><a name="p1176832476083931"></a>严重错误，需要关闭camera设备。</p>
<p id="p181641638125816"><a name="p181641638125816"></a><a name="p181641638125816"></a></p>
</td>
</tr>
<tr id="row1411546395083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry975693226083931p0"><a name="entry975693226083931p0"></a><a name="entry975693226083931p0"></a><strong id="gga4d1b650185695d9df8652593a7bc522da2b8e229bcb457de66e7b2882502a4df6"><a name="gga4d1b650185695d9df8652593a7bc522da2b8e229bcb457de66e7b2882502a4df6"></a><a name="gga4d1b650185695d9df8652593a7bc522da2b8e229bcb457de66e7b2882502a4df6"></a></strong>REQUEST_TIMEOUT</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p741971742083931"><a name="p741971742083931"></a><a name="p741971742083931"></a>请求超时，需要关闭camera设备。</p>
<p id="p19164538185816"><a name="p19164538185816"></a><a name="p19164538185816"></a></p>
</td>
</tr>
</tbody>
</table>

## FlashlightStatus<a name="ga1a82bc94cb6ff38f7fd0dfcffab71df3"></a>

```
enum OHOS::Camera::FlashlightStatus : uint32_t
```

**描述：**

闪光灯状态。

<a name="table26254857083931"></a>
<table><thead align="left"><tr id="row1652687134083931"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p1050489025083931"><a name="p1050489025083931"></a><a name="p1050489025083931"></a>枚举值</p>
</th>
<th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p1244056690083931"><a name="p1244056690083931"></a><a name="p1244056690083931"></a><strong id="b680718174619"><a name="b680718174619"></a><a name="b680718174619"></a>描述</strong></p>
</th>
</tr>
</thead>
<tbody><tr id="row744038646083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry1348480083083931p0"><a name="entry1348480083083931p0"></a><a name="entry1348480083083931p0"></a><strong id="gga1a82bc94cb6ff38f7fd0dfcffab71df3a624df2112053caa6316c6ee443758d1a"><a name="gga1a82bc94cb6ff38f7fd0dfcffab71df3a624df2112053caa6316c6ee443758d1a"></a><a name="gga1a82bc94cb6ff38f7fd0dfcffab71df3a624df2112053caa6316c6ee443758d1a"></a></strong>FLASHLIGHT_OFF</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p59022733083931"><a name="p59022733083931"></a><a name="p59022733083931"></a>闪光灯关闭。</p>
<p id="p417053885819"><a name="p417053885819"></a><a name="p417053885819"></a></p>
</td>
</tr>
<tr id="row364591714083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry846505389083931p0"><a name="entry846505389083931p0"></a><a name="entry846505389083931p0"></a><strong id="gga1a82bc94cb6ff38f7fd0dfcffab71df3a9f360d5fdf77e2f7c1c123f3ba45bc0c"><a name="gga1a82bc94cb6ff38f7fd0dfcffab71df3a9f360d5fdf77e2f7c1c123f3ba45bc0c"></a><a name="gga1a82bc94cb6ff38f7fd0dfcffab71df3a9f360d5fdf77e2f7c1c123f3ba45bc0c"></a></strong>FLASHLIGHT_ON</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p891097843083931"><a name="p891097843083931"></a><a name="p891097843083931"></a>闪光灯开启。</p>
<p id="p1817093865815"><a name="p1817093865815"></a><a name="p1817093865815"></a></p>
</td>
</tr>
<tr id="row1005377051083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry1715192095083931p0"><a name="entry1715192095083931p0"></a><a name="entry1715192095083931p0"></a><strong id="gga1a82bc94cb6ff38f7fd0dfcffab71df3a7fae7a9c7a791d240f3b6f6399988e8c"><a name="gga1a82bc94cb6ff38f7fd0dfcffab71df3a7fae7a9c7a791d240f3b6f6399988e8c"></a><a name="gga1a82bc94cb6ff38f7fd0dfcffab71df3a7fae7a9c7a791d240f3b6f6399988e8c"></a></strong>FLASHLIGHT_UNAVAILABLE</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1045690295083931"><a name="p1045690295083931"></a><a name="p1045690295083931"></a>闪光灯当前不可用。</p>
<p id="p15170103816585"><a name="p15170103816585"></a><a name="p15170103816585"></a></p>
</td>
</tr>
</tbody>
</table>

## OperationMode<a name="gac397708a7aefbcf48c8a32b8af367ffd"></a>

```
enum OHOS::Camera::OperationMode : int32_t
```

**描述：**

流的使用模式。

<a name="table699298439083931"></a>
<table><thead align="left"><tr id="row630531214083931"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p854876222083931"><a name="p854876222083931"></a><a name="p854876222083931"></a>枚举值</p>
</th>
<th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p1130296352083931"><a name="p1130296352083931"></a><a name="p1130296352083931"></a><strong id="b14255122234612"><a name="b14255122234612"></a><a name="b14255122234612"></a>描述</strong></p>
</th>
</tr>
</thead>
<tbody><tr id="row822177974083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry88767810083931p0"><a name="entry88767810083931p0"></a><a name="entry88767810083931p0"></a><strong id="ggac397708a7aefbcf48c8a32b8af367ffda66a457d6883b55722bda11ac9a47e4dd"><a name="ggac397708a7aefbcf48c8a32b8af367ffda66a457d6883b55722bda11ac9a47e4dd"></a><a name="ggac397708a7aefbcf48c8a32b8af367ffda66a457d6883b55722bda11ac9a47e4dd"></a></strong>NORMAL</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p2007652243083931"><a name="p2007652243083931"></a><a name="p2007652243083931"></a>普通模式。</p>
<p id="p14176138125817"><a name="p14176138125817"></a><a name="p14176138125817"></a></p>
</td>
</tr>
</tbody>
</table>

## ResultCallbackMode<a name="ga0290782009631708fe5351c54f019353"></a>

```
enum OHOS::Camera::ResultCallbackMode : int32_t
```

**描述：**

metadata的上报模式。

<a name="table850093422083931"></a>
<table><thead align="left"><tr id="row290289472083931"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p69814382083931"><a name="p69814382083931"></a><a name="p69814382083931"></a>枚举值</p>
</th>
<th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p1506499029083931"><a name="p1506499029083931"></a><a name="p1506499029083931"></a><strong id="b1051582510463"><a name="b1051582510463"></a><a name="b1051582510463"></a>描述</strong></p>
</th>
</tr>
</thead>
<tbody><tr id="row19350801083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry35762449083931p0"><a name="entry35762449083931p0"></a><a name="entry35762449083931p0"></a><strong id="gga0290782009631708fe5351c54f019353a25a4a7cc14577e328d08dd1a758f784c"><a name="gga0290782009631708fe5351c54f019353a25a4a7cc14577e328d08dd1a758f784c"></a><a name="gga0290782009631708fe5351c54f019353a25a4a7cc14577e328d08dd1a758f784c"></a></strong>PER_FRAME</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1327184271083931"><a name="p1327184271083931"></a><a name="p1327184271083931"></a>每帧上报。</p>
<p id="p1717933835818"><a name="p1717933835818"></a><a name="p1717933835818"></a></p>
</td>
</tr>
<tr id="row535807155083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry162419072083931p0"><a name="entry162419072083931p0"></a><a name="entry162419072083931p0"></a><strong id="gga0290782009631708fe5351c54f019353ab84abaca84197e5e75dc1210519ea37c"><a name="gga0290782009631708fe5351c54f019353ab84abaca84197e5e75dc1210519ea37c"></a><a name="gga0290782009631708fe5351c54f019353ab84abaca84197e5e75dc1210519ea37c"></a></strong>ON_CHANGED</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1745881514083931"><a name="p1745881514083931"></a><a name="p1745881514083931"></a>设备状态变化时上报。</p>
<p id="p191793387583"><a name="p191793387583"></a><a name="p191793387583"></a></p>
</td>
</tr>
</tbody>
</table>

## StreamError<a name="ga376e6d566c73ec98e29b7dd93763aee6"></a>

```
enum OHOS::Camera::StreamError
```

**描述：**

流错误类型，用于流错误类型  [CaptureErrorInfo](_o_h_o_s_1_1_camera_1_1_capture_error_info.md)。

<a name="table1143243294083931"></a>
<table><thead align="left"><tr id="row997460304083931"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p1027072024083931"><a name="p1027072024083931"></a><a name="p1027072024083931"></a>枚举值</p>
</th>
<th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p824755230083931"><a name="p824755230083931"></a><a name="p824755230083931"></a><strong id="b1751419295469"><a name="b1751419295469"></a><a name="b1751419295469"></a>描述</strong></p>
</th>
</tr>
</thead>
<tbody><tr id="row99038267083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry1914177709083931p0"><a name="entry1914177709083931p0"></a><a name="entry1914177709083931p0"></a><strong id="gga376e6d566c73ec98e29b7dd93763aee6ae724e09ec34e66e49c86734ceffa2a26"><a name="gga376e6d566c73ec98e29b7dd93763aee6ae724e09ec34e66e49c86734ceffa2a26"></a><a name="gga376e6d566c73ec98e29b7dd93763aee6ae724e09ec34e66e49c86734ceffa2a26"></a></strong>UNKNOWN_ERROR</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p323827268083931"><a name="p323827268083931"></a><a name="p323827268083931"></a>流未知错误。</p>
<p id="p11823387580"><a name="p11823387580"></a><a name="p11823387580"></a></p>
</td>
</tr>
<tr id="row1388066880083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry683268933083931p0"><a name="entry683268933083931p0"></a><a name="entry683268933083931p0"></a><strong id="gga376e6d566c73ec98e29b7dd93763aee6a9300ec08f81b121b74ec589fca815952"><a name="gga376e6d566c73ec98e29b7dd93763aee6a9300ec08f81b121b74ec589fca815952"></a><a name="gga376e6d566c73ec98e29b7dd93763aee6a9300ec08f81b121b74ec589fca815952"></a></strong>BUFFER_LOST</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p387042698083931"><a name="p387042698083931"></a><a name="p387042698083931"></a>丢包。</p>
<p id="p141821738195816"><a name="p141821738195816"></a><a name="p141821738195816"></a></p>
</td>
</tr>
</tbody>
</table>

## StreamIntent<a name="ga2b195a400dc0113b8185900ddc231c19"></a>

```
enum OHOS::Camera::StreamIntent : int32_t
```

**描述：**

流的类型。

<a name="table304897425083931"></a>
<table><thead align="left"><tr id="row1845577141083931"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p2018148748083931"><a name="p2018148748083931"></a><a name="p2018148748083931"></a>枚举值</p>
</th>
<th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p1898592054083931"><a name="p1898592054083931"></a><a name="p1898592054083931"></a><strong id="b2507033104617"><a name="b2507033104617"></a><a name="b2507033104617"></a>描述</strong></p>
</th>
</tr>
</thead>
<tbody><tr id="row2134890468083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry1594678450083931p0"><a name="entry1594678450083931p0"></a><a name="entry1594678450083931p0"></a><strong id="gga2b195a400dc0113b8185900ddc231c19a2ec888585737101c7bc133d302e4ce0a"><a name="gga2b195a400dc0113b8185900ddc231c19a2ec888585737101c7bc133d302e4ce0a"></a><a name="gga2b195a400dc0113b8185900ddc231c19a2ec888585737101c7bc133d302e4ce0a"></a></strong>PREVIEW</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1363439219083931"><a name="p1363439219083931"></a><a name="p1363439219083931"></a>流数据用于显示，即预览流。</p>
<p id="p7186193812584"><a name="p7186193812584"></a><a name="p7186193812584"></a></p>
</td>
</tr>
<tr id="row1839003855083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry525935865083931p0"><a name="entry525935865083931p0"></a><a name="entry525935865083931p0"></a><strong id="gga2b195a400dc0113b8185900ddc231c19ad480442d11e56ef84ac7018df5637b6a"><a name="gga2b195a400dc0113b8185900ddc231c19ad480442d11e56ef84ac7018df5637b6a"></a><a name="gga2b195a400dc0113b8185900ddc231c19ad480442d11e56ef84ac7018df5637b6a"></a></strong>VIDEO</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p653571875083931"><a name="p653571875083931"></a><a name="p653571875083931"></a>流数据用于编码生成录像，即录像流。</p>
<p id="p918623812584"><a name="p918623812584"></a><a name="p918623812584"></a></p>
</td>
</tr>
<tr id="row872101975083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry808832164083931p0"><a name="entry808832164083931p0"></a><a name="entry808832164083931p0"></a><strong id="gga2b195a400dc0113b8185900ddc231c19a5898656f053185f8a374bc35cbd4d784"><a name="gga2b195a400dc0113b8185900ddc231c19a5898656f053185f8a374bc35cbd4d784"></a><a name="gga2b195a400dc0113b8185900ddc231c19a5898656f053185f8a374bc35cbd4d784"></a></strong>STILL_CAPTURE</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1572107766083931"><a name="p1572107766083931"></a><a name="p1572107766083931"></a>流数据用于编码生成照片，即拍照流。</p>
<p id="p6186163865819"><a name="p6186163865819"></a><a name="p6186163865819"></a></p>
</td>
</tr>
<tr id="row445094911083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry1684166300083931p0"><a name="entry1684166300083931p0"></a><a name="entry1684166300083931p0"></a><strong id="gga2b195a400dc0113b8185900ddc231c19a67891a15f68cdc23c2b1bb6fdfe2d72f"><a name="gga2b195a400dc0113b8185900ddc231c19a67891a15f68cdc23c2b1bb6fdfe2d72f"></a><a name="gga2b195a400dc0113b8185900ddc231c19a67891a15f68cdc23c2b1bb6fdfe2d72f"></a></strong>POST_VIEW</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1135521261083931"><a name="p1135521261083931"></a><a name="p1135521261083931"></a>流数据用于保存缩略图。</p>
<p id="p318683845810"><a name="p318683845810"></a><a name="p318683845810"></a></p>
</td>
</tr>
<tr id="row465664973083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry758541469083931p0"><a name="entry758541469083931p0"></a><a name="entry758541469083931p0"></a><strong id="gga2b195a400dc0113b8185900ddc231c19a817268e94893ff41b8a03147dfbbc94b"><a name="gga2b195a400dc0113b8185900ddc231c19a817268e94893ff41b8a03147dfbbc94b"></a><a name="gga2b195a400dc0113b8185900ddc231c19a817268e94893ff41b8a03147dfbbc94b"></a></strong>ANALYZE</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p913218509083931"><a name="p913218509083931"></a><a name="p913218509083931"></a>流数据用于图像分析。</p>
<p id="p71861538135815"><a name="p71861538135815"></a><a name="p71861538135815"></a></p>
</td>
</tr>
<tr id="row1930166437083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry830361082083931p0"><a name="entry830361082083931p0"></a><a name="entry830361082083931p0"></a><strong id="gga2b195a400dc0113b8185900ddc231c19a4ca8b162608a384d4335d04a56ac3e72"><a name="gga2b195a400dc0113b8185900ddc231c19a4ca8b162608a384d4335d04a56ac3e72"></a><a name="gga2b195a400dc0113b8185900ddc231c19a4ca8b162608a384d4335d04a56ac3e72"></a></strong>CUSTOM</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p240251248083931"><a name="p240251248083931"></a><a name="p240251248083931"></a>自定义类型。</p>
<p id="p0186238115814"><a name="p0186238115814"></a><a name="p0186238115814"></a></p>
</td>
</tr>
</tbody>
</table>

## StreamSupportType<a name="ga2de5b91b51f744902c071f89d9302d56"></a>

```
enum OHOS::Camera::StreamSupportType : int32_t
```

**描述：**

动态配置流的切换方式，使用场景参考  [IsStreamsSupported](_camera.md#ga2ebad5dbf7873a2b3ab27900c4f5b0a7)  。

<a name="table1825228798083931"></a>
<table><thead align="left"><tr id="row2106935720083931"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p1386532366083931"><a name="p1386532366083931"></a><a name="p1386532366083931"></a>枚举值</p>
</th>
<th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p731570682083931"><a name="p731570682083931"></a><a name="p731570682083931"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row1989199004083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry175734405083931p0"><a name="entry175734405083931p0"></a><a name="entry175734405083931p0"></a><strong id="gga2de5b91b51f744902c071f89d9302d56a96466427b9427c04c0a9f9a74e21b222"><a name="gga2de5b91b51f744902c071f89d9302d56a96466427b9427c04c0a9f9a74e21b222"></a><a name="gga2de5b91b51f744902c071f89d9302d56a96466427b9427c04c0a9f9a74e21b222"></a></strong>DYNAMIC_SUPPORTED</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p1418807614083931"><a name="p1418807614083931"></a><a name="p1418807614083931"></a>支持动态配置流，对应的流参数直接生效。</p>
<p id="p15196438105813"><a name="p15196438105813"></a><a name="p15196438105813"></a></p>
</td>
</tr>
<tr id="row1250381878083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry335624417083931p0"><a name="entry335624417083931p0"></a><a name="entry335624417083931p0"></a><strong id="gga2de5b91b51f744902c071f89d9302d56afb9ebd5b0f7137f06e0b636247e7419e"><a name="gga2de5b91b51f744902c071f89d9302d56afb9ebd5b0f7137f06e0b636247e7419e"></a><a name="gga2de5b91b51f744902c071f89d9302d56afb9ebd5b0f7137f06e0b636247e7419e"></a></strong>RE_CONFIGURED_REQUIRED</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p222705273083931"><a name="p222705273083931"></a><a name="p222705273083931"></a>不支持动态配置流，对应的参数需要停止流然后重新配置流才能生效。</p>
<p id="p119611389586"><a name="p119611389586"></a><a name="p119611389586"></a></p>
</td>
</tr>
<tr id="row263666939083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry872294026083931p0"><a name="entry872294026083931p0"></a><a name="entry872294026083931p0"></a><strong id="gga2de5b91b51f744902c071f89d9302d56a5e0d17d563241a98d968bbdb5facf05e"><a name="gga2de5b91b51f744902c071f89d9302d56a5e0d17d563241a98d968bbdb5facf05e"></a><a name="gga2de5b91b51f744902c071f89d9302d56a5e0d17d563241a98d968bbdb5facf05e"></a></strong>NOT_SUPPORTED</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="p146783685083931"><a name="p146783685083931"></a><a name="p146783685083931"></a>不支持对应的流参数配置。</p>
<p id="p101965383587"><a name="p101965383587"></a><a name="p101965383587"></a></p>
</td>
</tr>
</tbody>
</table>

## **函数说明**<a name="section748031102083931"></a>

## AttachBufferQueue\(\)<a name="gad17206bf96c260a9384f224d65a230af"></a>

```
virtual CamRetCode OHOS::Camera::IStreamOperator::AttachBufferQueue (int streamId, const OHOS::sptr < OHOS::IBufferProducer > & producer )
```

**描述：**

绑定生产者句柄和指定流。

如果在  [CreateStreams](_camera.md#gac16ffa2d2f81bb62eb9ce556a0293c71)  创建流时已经指定了生产者句柄，则不需要调用该接口。如果需要重新绑定， 需先调用  [DetachBufferQueue](_camera.md#gaad1232a57faf5c55ecfdab1c04f98951)  进行解绑，然后再绑定。 对于一些IOT设备，可能不需要或者不支持预览流的图像数据缓存流转，那么不需要绑定生产者句柄， 此时在创建流时  [CreateStreams](_camera.md#gac16ffa2d2f81bb62eb9ce556a0293c71)  的  [StreamInfo](_o_h_o_s_1_1_camera_1_1_stream_info.md)  参数的生产者句柄bufferQueue\_为空，而 tunneledMode\_需设置为false。

**参数：**

<a name="table1946517184083931"></a>
<table><thead align="left"><tr id="row602437848083931"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p1558302027083931"><a name="p1558302027083931"></a><a name="p1558302027083931"></a>名称</p>
</th>
<th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p1735307044083931"><a name="p1735307044083931"></a><a name="p1735307044083931"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row569312023083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry871014273083931p0"><a name="entry871014273083931p0"></a><a name="entry871014273083931p0"></a>streamId</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="entry655107484083931p0"><a name="entry655107484083931p0"></a><a name="entry655107484083931p0"></a>[IN] 用于标识要绑定的流。</p>
</td>
</tr>
<tr id="row239472041083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry1676096853083931p0"><a name="entry1676096853083931p0"></a><a name="entry1676096853083931p0"></a>producer</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="entry717908817083931p0"><a name="entry717908817083931p0"></a><a name="entry717908817083931p0"></a>[IN] 生产者句柄。</p>
</td>
</tr>
</tbody>
</table>

**返回：**

Returns NO\_ERROR 表示执行成功；

Returns 其他值表示执行失败，具体错误码查看  [CamRetCode](#ga9ecee2f0e6599644dc440c9e1c553b80)。

**参见：**

[DetachBufferQueue](_camera.md#gaad1232a57faf5c55ecfdab1c04f98951)

**Since：**

1.0

**Version：**

1.0

## CancelCapture\(\) \[1/2\]<a name="ga83a9be20ab64cc481c0e5403e1873a10"></a>

```
virtual CamRetCode OHOS::Camera::IOfflineStreamOperator::CancelCapture (int captureId)
```

**描述：**

取消捕获请求。

**参数：**

<a name="table671159602083931"></a>
<table><thead align="left"><tr id="row1930978247083931"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p6388112219477"><a name="p6388112219477"></a><a name="p6388112219477"></a>名称</p>
</th>
<th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p938818222474"><a name="p938818222474"></a><a name="p938818222474"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row2002522335083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry170219181083931p0"><a name="entry170219181083931p0"></a><a name="entry170219181083931p0"></a>captureId</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="entry1607532988083931p0"><a name="entry1607532988083931p0"></a><a name="entry1607532988083931p0"></a>[IN] 用于标识要取消的捕获请求。</p>
</td>
</tr>
</tbody>
</table>

**返回：**

Returns NO\_ERROR 表示执行成功；

Returns 其他值表示执行失败，具体错误码查看  [CamRetCode](#ga9ecee2f0e6599644dc440c9e1c553b80)。

## CancelCapture\(\) \[2/2\]<a name="ga77100b740f501c309a573f9783313a61"></a>

```
virtual CamRetCode OHOS::Camera::IStreamOperator::CancelCapture (int captureId)
```

**描述：**

取消捕获。

取消连续捕获时会调用  **OnCaptureEnded**。

**参数：**

<a name="table1799293506083931"></a>
<table><thead align="left"><tr id="row2075762558083931"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p45288343471"><a name="p45288343471"></a><a name="p45288343471"></a>名称</p>
</th>
<th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p15528934164718"><a name="p15528934164718"></a><a name="p15528934164718"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row958581858083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry746051365083931p0"><a name="entry746051365083931p0"></a><a name="entry746051365083931p0"></a>captureId</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="entry858696771083931p0"><a name="entry858696771083931p0"></a><a name="entry858696771083931p0"></a>用于标识要取消的捕获请求</p>
</td>
</tr>
</tbody>
</table>

**返回：**

Returns NO\_ERROR 表示执行成功；

Returns 其他值表示执行失败，具体错误码查看  [CamRetCode](#ga9ecee2f0e6599644dc440c9e1c553b80)。

**参见：**

[Capture](_camera.md#ga9fb8042cb01262bc08da16159975cf50)

**Since：**

1.0

**Version：**

1.0

## Capture\(\)<a name="ga9fb8042cb01262bc08da16159975cf50"></a>

```
virtual CamRetCode OHOS::Camera::IStreamOperator::Capture (int captureId, const std::shared_ptr< [CaptureInfo](_o_h_o_s_1_1_camera_1_1_capture_info.md) > & info, bool isStreaming )
```

**描述：**

捕获图像。

本接口必须在调用  [CommitStreams](_camera.md#gab94792910f425ade060edcda5c5706d1)  配置流之后调用。 图像捕获有两种模式，分别是连续捕获和单次捕获。连续捕获即触发之后模块内部进行连续的捕获， 消费者可以连续收到图像数据，不需要多次调用本接口，若再次调用了本接口， 则停止当前捕获，更新捕获信息，再进行一次新的捕获，多用于预览、录像或者连拍场景。 单次捕获即触发之后只捕获一帧图像数据，用于单次拍照场景。 捕获启动时，会调用  **OnCaptureStarted**  来通知调用者捕获已经启动。 连续捕获需调用  [CancelCapture](_camera.md#ga77100b740f501c309a573f9783313a61)  来停止捕获。 捕获结束时，会调用  **OnCaptureEnded**  来通知调用者捕获的帧计数等信息。  [CaptureInfo](_o_h_o_s_1_1_camera_1_1_capture_info.md)  的 enableShutterCallback\_ 使能  **OnFrameShutter**，使能后每次捕获触发  **OnFrameShutter**  对于多个流同时捕获的场景，本模块内部保证同时上报多路流捕获数据。

**参数：**

<a name="table1145481086083931"></a>
<table><thead align="left"><tr id="row1123412668083931"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p721274514711"><a name="p721274514711"></a><a name="p721274514711"></a>名称</p>
</th>
<th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p102126450471"><a name="p102126450471"></a><a name="p102126450471"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row816825533083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry986827210083931p0"><a name="entry986827210083931p0"></a><a name="entry986827210083931p0"></a>captureId</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="entry1566667702083931p0"><a name="entry1566667702083931p0"></a><a name="entry1566667702083931p0"></a>[IN] 捕获请求的唯一标识，由调用者指定，调用者需保证在Camera设备打开期间，捕获请求ID是唯一的。</p>
</td>
</tr>
<tr id="row1566660592083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry1611471697083931p0"><a name="entry1611471697083931p0"></a><a name="entry1611471697083931p0"></a>info</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="entry1641246083083931p0"><a name="entry1641246083083931p0"></a><a name="entry1641246083083931p0"></a>[IN] 捕获请求的参数信息，具体信息查看 <a href="_o_h_o_s_1_1_camera_1_1_capture_info.md">CaptureInfo</a>。</p>
</td>
</tr>
<tr id="row1582056103083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry1823745390083931p0"><a name="entry1823745390083931p0"></a><a name="entry1823745390083931p0"></a>isStreaming</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="entry1298181901083931p0"><a name="entry1298181901083931p0"></a><a name="entry1298181901083931p0"></a>[IN] 是否连续捕获，true表示连续捕获，否则为单次捕获。</p>
</td>
</tr>
</tbody>
</table>

**返回：**

Returns NO\_ERROR 表示执行成功；

Returns 其他值表示执行失败，具体错误码查看  [CamRetCode](#ga9ecee2f0e6599644dc440c9e1c553b80)。

**参见：**

OnFrameShutter

**Since：**

1.0

**Version：**

1.0

## ChangeToOfflineStream\(\)<a name="gab97102d0e2d5bc1008924581fa9526fc"></a>

```
virtual CamRetCode OHOS::Camera::IStreamOperator::ChangeToOfflineStream (const std::vector< int > & streamIds, OHOS::sptr< IStreamOperatorCallback > & callback, OHOS::sptr< IOfflineStreamOperator > & offlineOperator )
```

**描述：**

将指定流转换成离线流。

离线流只能由拍照流转换而来，其他流不支持。 一些设备处理能力有限，可能导致拍照时算法处理时间较长，从而引起捕获请求堆积在模块内部，而转换为离线 流之后，可关闭底层设备，由离线流接替，进行后续的处理。

**参数：**

<a name="table1330469963083931"></a>
<table><thead align="left"><tr id="row2057299985083931"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p10943185114715"><a name="p10943185114715"></a><a name="p10943185114715"></a>名称</p>
</th>
<th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p694365164719"><a name="p694365164719"></a><a name="p694365164719"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row1354775720083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry1515117523083931p0"><a name="entry1515117523083931p0"></a><a name="entry1515117523083931p0"></a>streamIds</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="entry714948703083931p0"><a name="entry714948703083931p0"></a><a name="entry714948703083931p0"></a>[IN] 用于指定要转换成离线流的流集合。</p>
</td>
</tr>
<tr id="row809542533083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry58488457083931p0"><a name="entry58488457083931p0"></a><a name="entry58488457083931p0"></a>callback</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="entry1980865298083931p0"><a name="entry1980865298083931p0"></a><a name="entry1980865298083931p0"></a>[IN] 用于设置离线流的回调。</p>
</td>
</tr>
<tr id="row756282936083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry754728950083931p0"><a name="entry754728950083931p0"></a><a name="entry754728950083931p0"></a>offlineOperator</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="entry1558890365083931p0"><a name="entry1558890365083931p0"></a><a name="entry1558890365083931p0"></a>[OUT] 转换后的离线流。</p>
</td>
</tr>
</tbody>
</table>

**返回：**

Returns NO\_ERROR 表示执行成功；

Returns 其他值表示执行失败，具体错误码查看  [CamRetCode](#ga9ecee2f0e6599644dc440c9e1c553b80)。

**Since：**

1.0

**Version：**

1.0

## Close\(\)<a name="gadb49d58d852fb9edba89fd496c6a907b"></a>

```
virtual void OHOS::Camera::ICameraDevice::Close ()
```

**描述：**

关闭Camera设备。

**参见：**

[OpenCamera](_camera.md#gaf9e7aa942d3e31504d8ef5e710b029f1)

**Since：**

1.0

**Version：**

1.0

## CommitStreams\(\)<a name="gab94792910f425ade060edcda5c5706d1"></a>

```
virtual CamRetCode OHOS::Camera::IStreamOperator::CommitStreams (OperationMode mode, const std::shared_ptr< CameraMetadata > & modeSetting )
```

**描述：**

配置流。

本接口需在调用  [CreateStreams](_camera.md#gac16ffa2d2f81bb62eb9ce556a0293c71)  创建流之后调用。

**参数：**

<a name="table1971616736083931"></a>
<table><thead align="left"><tr id="row1414761316083931"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p109741804488"><a name="p109741804488"></a><a name="p109741804488"></a>名称</p>
</th>
<th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p1997416004817"><a name="p1997416004817"></a><a name="p1997416004817"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row728349635083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry684015075083931p0"><a name="entry684015075083931p0"></a><a name="entry684015075083931p0"></a>mode</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="entry4405256083931p0"><a name="entry4405256083931p0"></a><a name="entry4405256083931p0"></a>[IN] 流运行的模式，支持的模式定义在 <strong id="b2018492079083931"><a name="b2018492079083931"></a><a name="b2018492079083931"></a>OperationMode</strong>。</p>
</td>
</tr>
<tr id="row1794432840083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry1867230847083931p0"><a name="entry1867230847083931p0"></a><a name="entry1867230847083931p0"></a>modeSetting</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="entry663478844083931p0"><a name="entry663478844083931p0"></a><a name="entry663478844083931p0"></a>[IN] 流的配置参数，包括帧率，ZOOM等信息。</p>
</td>
</tr>
</tbody>
</table>

**返回：**

Returns NO\_ERROR 表示执行成功；

Returns 其他值表示执行失败，具体错误码查看  [CamRetCode](#ga9ecee2f0e6599644dc440c9e1c553b80)。

**Since：**

1.0

**Version：**

1.0

## CreateStreams\(\)<a name="gac16ffa2d2f81bb62eb9ce556a0293c71"></a>

```
virtual CamRetCode OHOS::Camera::IStreamOperator::CreateStreams (const std::vector< std::shared_ptr< StreamInfo >> & streamInfos)
```

**描述：**

创建流。

此函数接口依据输入的流信息创建流，调用该接口之前需先通过  [IsStreamsSupported](_camera.md#ga2ebad5dbf7873a2b3ab27900c4f5b0a7)  查询HAL是否支持要创建的流。

**参数：**

<a name="table899869727083931"></a>
<table><thead align="left"><tr id="row686639712083931"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p1660617819484"><a name="p1660617819484"></a><a name="p1660617819484"></a>名称</p>
</th>
<th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p660668184810"><a name="p660668184810"></a><a name="p660668184810"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row309093326083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry1551853931083931p0"><a name="entry1551853931083931p0"></a><a name="entry1551853931083931p0"></a>streamInfos</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="entry1314373682083931p0"><a name="entry1314373682083931p0"></a><a name="entry1314373682083931p0"></a>[IN] 流信息列表，流信息定义在 <a href="_o_h_o_s_1_1_camera_1_1_stream_info.md">StreamInfo</a>。输入的流信息可能会被修改，需通过 <a href="_camera.md#gac10fdfea46cfb848faaf94c09456840d">GetStreamAttributes</a> 获取最新的流属性。</p>
</td>
</tr>
</tbody>
</table>

**返回：**

Returns NO\_ERROR 表示执行成功；

Returns 其他值表示执行失败，具体错误码查看  [CamRetCode](#ga9ecee2f0e6599644dc440c9e1c553b80)。

**Since：**

1.0

**Version：**

1.0

## DetachBufferQueue\(\)<a name="gaad1232a57faf5c55ecfdab1c04f98951"></a>

```
virtual CamRetCode OHOS::Camera::IStreamOperator::DetachBufferQueue (int streamId)
```

**描述：**

解除生产者句柄和指定流的绑定关系。

**参数：**

<a name="table1157100506083931"></a>
<table><thead align="left"><tr id="row1188035554083931"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p1855071318485"><a name="p1855071318485"></a><a name="p1855071318485"></a>名称</p>
</th>
<th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p9550413204814"><a name="p9550413204814"></a><a name="p9550413204814"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row516934272083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry1634624464083931p0"><a name="entry1634624464083931p0"></a><a name="entry1634624464083931p0"></a>streamId</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="entry1908390661083931p0"><a name="entry1908390661083931p0"></a><a name="entry1908390661083931p0"></a>[IN] 用于标识要解除绑定的流。</p>
</td>
</tr>
</tbody>
</table>

**返回：**

Returns NO\_ERROR 表示执行成功；

Returns 其他值表示执行失败，具体错误码查看[CamRetCode](#ga9ecee2f0e6599644dc440c9e1c553b80)。

**参见：**

[AttachBufferQueue](_camera.md#gad17206bf96c260a9384f224d65a230af)

**Since：**

1.0

**Version：**

1.0

## DisableResult\(\)<a name="ga68fd022b82dfba6d9431220faf9856bd"></a>

```
virtual CamRetCode OHOS::Camera::ICameraDevice::DisableResult (const std::vector< MetaType > & results)
```

**描述：**

关闭metadata上报开关。

屏蔽之后，相应的**OnResult**不再上报，需  [EnableResult](_camera.md#ga265b16a5b7969045b38de95bf782b75c)  使能之后才上报。

**参数：**

<a name="table1451656800083931"></a>
<table><thead align="left"><tr id="row1096014146083931"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p53117192488"><a name="p53117192488"></a><a name="p53117192488"></a>名称</p>
</th>
<th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p9311619184815"><a name="p9311619184815"></a><a name="p9311619184815"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row1238052378083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry2003301787083931p0"><a name="entry2003301787083931p0"></a><a name="entry2003301787083931p0"></a>results</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="entry1828680391083931p0"><a name="entry1828680391083931p0"></a><a name="entry1828680391083931p0"></a>[IN] 需要关闭上报开关的metadata。</p>
</td>
</tr>
</tbody>
</table>

**返回：**

Returns NO\_ERROR 表示执行成功。

Returns 其他值表示执行失败，具体错误码查看  [CamRetCode](#ga9ecee2f0e6599644dc440c9e1c553b80)。

**参见：**

[EnableResult](_camera.md#ga265b16a5b7969045b38de95bf782b75c)

**Since：**

1.0

**Version：**

1.0

## EnableResult\(\)<a name="ga265b16a5b7969045b38de95bf782b75c"></a>

```
virtual CamRetCode OHOS::Camera::ICameraDevice::EnableResult (const std::vector< MetaType > & results)
```

**描述：**

打开metadata上报开关。

**OnResult**  只上报此接口使能后的metadata。

**参数：**

<a name="table85783294083931"></a>
<table><thead align="left"><tr id="row306899345083931"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p82021928154819"><a name="p82021928154819"></a><a name="p82021928154819"></a>名称</p>
</th>
<th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p19202928144815"><a name="p19202928144815"></a><a name="p19202928144815"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row940476013083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry1700682552083931p0"><a name="entry1700682552083931p0"></a><a name="entry1700682552083931p0"></a>results</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="entry1645326960083931p0"><a name="entry1645326960083931p0"></a><a name="entry1645326960083931p0"></a>[IN] 需要打开上报开关的metadata。</p>
</td>
</tr>
</tbody>
</table>

**返回：**

Returns NO\_ERROR 表示执行成功。

Returns 其他值表示执行失败，具体错误码查看  [CamRetCode](#ga9ecee2f0e6599644dc440c9e1c553b80)。

**参见：**

[DisableResult](_camera.md#ga68fd022b82dfba6d9431220faf9856bd)

**Since：**

1.0

**Version：**

1.0

## Get\(\)<a name="gaeec1c2ffe13be9abd9f4ab7b6fc83b21"></a>

```
static sptr<ICameraHost> OHOS::Camera::ICameraHost::Get (const char * serviceName)
```

**描述：**

获取ICameraHost实例。

此接口为Camera调用入口，需要先通过该接口获取ICameraHost实例，然后通过ICameraHost实例进行其它操作。

**参数：**

<a name="table82585683083931"></a>
<table><thead align="left"><tr id="row1799198224083931"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p187414416487"><a name="p187414416487"></a><a name="p187414416487"></a>名称</p>
</th>
<th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p1474114119482"><a name="p1474114119482"></a><a name="p1474114119482"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row827099671083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry1504564829083931p0"><a name="entry1504564829083931p0"></a><a name="entry1504564829083931p0"></a>serviceName</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="entry697335147083931p0"><a name="entry697335147083931p0"></a><a name="entry697335147083931p0"></a>[IN] 要获取的ICameraHost实例的名称，当前实现中实例名称固定为camera_service。</p>
</td>
</tr>
</tbody>
</table>

**返回：**

Returns 成功返回ICameraHost实例，失败返回nullptr。

**Since：**

1.0

**Version：**

1.0

## GetCameraAbility\(\)<a name="gad813ea200395e42a3ec2a457cc04b93d"></a>

```
virtual CamRetCode OHOS::Camera::ICameraHost::GetCameraAbility (const std::string & cameraId, std::shared_ptr< CameraAbility > & ability )
```

**描述：**

获取Camera设备能力集合。

**参数：**

<a name="table728399011083931"></a>
<table><thead align="left"><tr id="row229319813083931"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p9597184715488"><a name="p9597184715488"></a><a name="p9597184715488"></a>名称</p>
</th>
<th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p14597547174817"><a name="p14597547174817"></a><a name="p14597547174817"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row1530278242083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry1281746441083931p0"><a name="entry1281746441083931p0"></a><a name="entry1281746441083931p0"></a>cameraId</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="entry1005239221083931p0"><a name="entry1005239221083931p0"></a><a name="entry1005239221083931p0"></a>[IN] 用于指定要操作的camera设备，通过 <a href="_camera.md#gab3128eb3432a830b2cff6bcd999bca10">GetCameraIds</a> 获取。</p>
</td>
</tr>
<tr id="row774544294083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry1782174825083931p0"><a name="entry1782174825083931p0"></a><a name="entry1782174825083931p0"></a>ability</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="entry2050433652083931p0"><a name="entry2050433652083931p0"></a><a name="entry2050433652083931p0"></a>[OUT] 返回cameraId对应Camera设备的能力集合。</p>
</td>
</tr>
</tbody>
</table>

**返回：**

Returns NO\_ERROR 表示执行成功；

Returns 其他值表示执行失败，具体错误码查看  [CamRetCode](#ga9ecee2f0e6599644dc440c9e1c553b80)。

**参见：**

[GetCameraIds](_camera.md#gab3128eb3432a830b2cff6bcd999bca10)

**Since：**

1.0

**Version：**

1.0

## GetCameraIds\(\)<a name="gab3128eb3432a830b2cff6bcd999bca10"></a>

```
virtual CamRetCode OHOS::Camera::ICameraHost::GetCameraIds (std::vector< std::string > & cameraIds)
```

**描述：**

获取当前可用的Camera设备ID列表。

**参数：**

<a name="table794006376083931"></a>
<table><thead align="left"><tr id="row69736883083931"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p1630718521083931"><a name="p1630718521083931"></a><a name="p1630718521083931"></a>名称</p>
</th>
<th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p690615969083931"><a name="p690615969083931"></a><a name="p690615969083931"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row285960213083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry2003900523083931p0"><a name="entry2003900523083931p0"></a><a name="entry2003900523083931p0"></a>cameraIds</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="entry1666806055083931p0"><a name="entry1666806055083931p0"></a><a name="entry1666806055083931p0"></a>[OUT] 返回当前可用的设备列表</p>
</td>
</tr>
</tbody>
</table>

**返回：**

Returns NO\_ERROR 表示执行成功。

Returns 其他值表示执行失败，具体错误码查看  [CamRetCode](#ga9ecee2f0e6599644dc440c9e1c553b80)。

**参见：**

[GetCameraAbility](_camera.md#gad813ea200395e42a3ec2a457cc04b93d)

**Since：**

1.0

**Version：**

1.0

## GetEnabledResults\(\)<a name="gaa1b81bee249efb9523a4d62659f28aef"></a>

```
virtual CamRetCode OHOS::Camera::ICameraDevice::GetEnabledResults (std::vector< MetaType > & results)
```

**描述：**

查询使能的metadata。

[EnableResult](_camera.md#ga265b16a5b7969045b38de95bf782b75c)  使能需要上报的metadata之后，可通过此接口查询使能的metadata。

**参数：**

<a name="table201338006083931"></a>
<table><thead align="left"><tr id="row748629460083931"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p2085857976083931"><a name="p2085857976083931"></a><a name="p2085857976083931"></a>名称</p>
</th>
<th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p172854148083931"><a name="p172854148083931"></a><a name="p172854148083931"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row489896015083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry2068091334083931p0"><a name="entry2068091334083931p0"></a><a name="entry2068091334083931p0"></a>results</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="entry1920528256083931p0"><a name="entry1920528256083931p0"></a><a name="entry1920528256083931p0"></a>[OUT] 所有使能的metadata。</p>
</td>
</tr>
</tbody>
</table>

**返回：**

Returns NO\_ERROR 表示执行成功。

Returns 其他值表示执行失败，具体错误码查看  [CamRetCode](#ga9ecee2f0e6599644dc440c9e1c553b80)。

**Since：**

1.0

**Version：**

1.0

## GetStreamAttributes\(\)<a name="gac10fdfea46cfb848faaf94c09456840d"></a>

```
virtual CamRetCode OHOS::Camera::IStreamOperator::GetStreamAttributes (std::vector< std::shared_ptr< StreamAttribute >> & attributes)
```

**描述：**

获取流的属性。

**参数：**

<a name="table1842897338083931"></a>
<table><thead align="left"><tr id="row1868105937083931"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p1525519407083931"><a name="p1525519407083931"></a><a name="p1525519407083931"></a>名称</p>
</th>
<th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p1247454022083931"><a name="p1247454022083931"></a><a name="p1247454022083931"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row525133219083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry1254815083931p0"><a name="entry1254815083931p0"></a><a name="entry1254815083931p0"></a>attributes</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="entry1843151732083931p0"><a name="entry1843151732083931p0"></a><a name="entry1843151732083931p0"></a>[OUT] 用于获取流的属性。在调用<a href="_camera.md#gac16ffa2d2f81bb62eb9ce556a0293c71">CreateStreams</a> 时，通过参数streamInfos携带的流信息 可能会被重写，因此通过该接口获取的流属性可能会。 和 <a href="_camera.md#gac16ffa2d2f81bb62eb9ce556a0293c71">CreateStreams</a> 输入的流信息存在差异。</p>
</td>
</tr>
</tbody>
</table>

**返回：**

Returns NO\_ERROR 表示执行成功。

Returns 其他值表示执行失败，具体错误码查看  [CamRetCode](#ga9ecee2f0e6599644dc440c9e1c553b80)。

**Since：**

1.0

**Version：**

1.0

## GetStreamOperator\(\)<a name="gac49f0d8fc0ed8a2b8058fdd1bb695fa3"></a>

```
virtual CamRetCode OHOS::Camera::ICameraDevice::GetStreamOperator (const OHOS::sptr< IStreamOperatorCallback > & callback, OHOS::sptr< IStreamOperator > & streamOperator )
```

**描述：**

获取流操作句柄。

**参数：**

<a name="table2106409432083931"></a>
<table><thead align="left"><tr id="row1733114031083931"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p1970511320083931"><a name="p1970511320083931"></a><a name="p1970511320083931"></a>名称</p>
</th>
<th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p557685399083931"><a name="p557685399083931"></a><a name="p557685399083931"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row1890342424083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry1032356792083931p0"><a name="entry1032356792083931p0"></a><a name="entry1032356792083931p0"></a>callback</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="entry1455641343083931p0"><a name="entry1455641343083931p0"></a><a name="entry1455641343083931p0"></a>[IN] 设置流回调接口，详细可查看 <a href="_o_h_o_s_1_1_camera_1_1_i_stream_operator_callback.md">IStreamOperatorCallback</a>， 用于上报捕获开始 <strong id="b342003017083931"><a name="b342003017083931"></a><a name="b342003017083931"></a>OnCaptureStarted</strong>，捕获结束 <strong id="b1765569589083931"><a name="b1765569589083931"></a><a name="b1765569589083931"></a>OnCaptureEnded</strong>， <strong id="b226156292083931"><a name="b226156292083931"></a><a name="b226156292083931"></a>OnCaptureError</strong> 捕获错误等信息。</p>
</td>
</tr>
<tr id="row801468316083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry1956386719083931p0"><a name="entry1956386719083931p0"></a><a name="entry1956386719083931p0"></a>streamOperator</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="entry1590369211083931p0"><a name="entry1590369211083931p0"></a><a name="entry1590369211083931p0"></a>[OUT] 返回流操作句柄。</p>
</td>
</tr>
</tbody>
</table>

**返回：**

Returns NO\_ERROR 表示执行成功。

Returns 其他值表示执行失败，具体错误码查看  [CamRetCode](#ga9ecee2f0e6599644dc440c9e1c553b80)。

**Since：**

1.0

**Version：**

1.0

## IsStreamsSupported\(\)<a name="ga2ebad5dbf7873a2b3ab27900c4f5b0a7"></a>

```
virtual CamRetCode OHOS::Camera::IStreamOperator::IsStreamsSupported (OperationMode mode, const std::shared_ptr< CameraMetadata > & modeSetting, const std::vector< std::shared_ptr< StreamInfo >> & info, StreamSupportType & type )
```

**描述：**

查询是否支持添加参数对应的流。

流是指从底层设备输出，经本模块内部各环节处理，最终传递到上层服务或者应用的一组数据序列 本模块支持的流的类型有预览流，录像流，拍照流等，更多类型可查看  **StreamIntent**。

此函数接口根据输入的运行模式和配置信息以及当前模块中正在运行的流，查询是否支持动态添加流。 如果本模块支持在不停止其他流的情况下添加新流，或者即使停止其他流但上层服务或应用不感知 则通过type参数返回DYNAMIC\_SUPPORTED，上层服务或应用可以直接添加新流； 如果本模块支持添加新流但需要上层服务或应用先停止所有流的捕获，则通过type参数返回RE\_CONFIGURED\_REQUIRED; 如果不支持添加输入的新流，则返回NOT\_SUPPORTED。 此函数需要在调用  [CreateStreams](_camera.md#gac16ffa2d2f81bb62eb9ce556a0293c71)  创建流之前调用。

**参数：**

<a name="table1047315852083931"></a>
<table><thead align="left"><tr id="row1718342264083931"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p380540960083931"><a name="p380540960083931"></a><a name="p380540960083931"></a>名称</p>
</th>
<th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p1762088325083931"><a name="p1762088325083931"></a><a name="p1762088325083931"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row150944728083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry1527245887083931p0"><a name="entry1527245887083931p0"></a><a name="entry1527245887083931p0"></a>mode</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="entry724990498083931p0"><a name="entry724990498083931p0"></a><a name="entry724990498083931p0"></a>[IN] 流运行的模式，支持的模式参考 <strong id="b19819541083931"><a name="b19819541083931"></a><a name="b19819541083931"></a>OperationMode</strong>。</p>
</td>
</tr>
<tr id="row1623486376083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry318302561083931p0"><a name="entry318302561083931p0"></a><a name="entry318302561083931p0"></a>modeSetting</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="entry1815508269083931p0"><a name="entry1815508269083931p0"></a><a name="entry1815508269083931p0"></a>[IN] 流的配置，包括帧率，3A等配置信息。</p>
</td>
</tr>
<tr id="row1399679360083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry462966863083931p0"><a name="entry462966863083931p0"></a><a name="entry462966863083931p0"></a>info</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="entry1464375957083931p0"><a name="entry1464375957083931p0"></a><a name="entry1464375957083931p0"></a>[IN] 流的配置信息，具体参考 <a href="_o_h_o_s_1_1_camera_1_1_stream_info.md">StreamInfo</a>。</p>
</td>
</tr>
<tr id="row162210282083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry109350621083931p0"><a name="entry109350621083931p0"></a><a name="entry109350621083931p0"></a>type</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="entry2069000361083931p0"><a name="entry2069000361083931p0"></a><a name="entry2069000361083931p0"></a>[OUT] 对动态配置流的支持类型，支持类型定义在 <strong id="b1546722778083931"><a name="b1546722778083931"></a><a name="b1546722778083931"></a>StreamSupportType</strong>。</p>
</td>
</tr>
</tbody>
</table>

**返回：**

Returns NO\_ERROR 表示执行成功；

Returns 其他值表示执行失败，具体错误码查看  [CamRetCode](#ga9ecee2f0e6599644dc440c9e1c553b80)。

**Since：**

1.0

**Version：**

1.0

## OnCameraEvent\(\)<a name="ga0e8cefd5c1069d26c989dd4435aa4e01"></a>

```
virtual void OHOS::Camera::ICameraHostCallback::OnCameraEvent (const std::string & cameraId, CameraEvent event )
```

**描述：**

在相机事件发生时调用。

**参数：**

<a name="table1007699238083931"></a>
<table><thead align="left"><tr id="row217156421083931"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p1995773132083931"><a name="p1995773132083931"></a><a name="p1995773132083931"></a>名称</p>
</th>
<th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p1228274943083931"><a name="p1228274943083931"></a><a name="p1228274943083931"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row1331014606083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry702641375083931p0"><a name="entry702641375083931p0"></a><a name="entry702641375083931p0"></a>cameraId</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="entry1679849125083931p0"><a name="entry1679849125083931p0"></a><a name="entry1679849125083931p0"></a>表示相机事件绑定的相机ID。</p>
</td>
</tr>
<tr id="row615281086083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry76889139083931p0"><a name="entry76889139083931p0"></a><a name="entry76889139083931p0"></a>event</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="entry682944776083931p0"><a name="entry682944776083931p0"></a><a name="entry682944776083931p0"></a>表示相机事件类型。</p>
</td>
</tr>
</tbody>
</table>

**Since：**

1.0

**Version：**

1.0

## OnCameraStatus\(\)<a name="ga6be010418aea15a4d4af8719c87b2ec0"></a>

```
virtual void OHOS::Camera::ICameraHostCallback::OnCameraStatus (const std::string & cameraId, CameraStatus status )
```

**描述：**

用于Camera设备状态变化时上报状态信息给调用者。

**参数：**

<a name="table1458449951083931"></a>
<table><thead align="left"><tr id="row903998814083931"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p606195922083931"><a name="p606195922083931"></a><a name="p606195922083931"></a>名称</p>
</th>
<th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p1275809208083931"><a name="p1275809208083931"></a><a name="p1275809208083931"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row1351842586083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry1180928573083931p0"><a name="entry1180928573083931p0"></a><a name="entry1180928573083931p0"></a>cameraId</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="entry1279080894083931p0"><a name="entry1279080894083931p0"></a><a name="entry1279080894083931p0"></a>[IN] 状态发生变化的Camera设备ID。</p>
</td>
</tr>
<tr id="row913335506083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry1595988756083931p0"><a name="entry1595988756083931p0"></a><a name="entry1595988756083931p0"></a>status</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="entry392629510083931p0"><a name="entry392629510083931p0"></a><a name="entry392629510083931p0"></a>[IN] 最新的设备状态。</p>
</td>
</tr>
</tbody>
</table>

**Since：**

1.0

**Version：**

1.0

## OnCaptureEnded\(\)<a name="ga3761990cab402ce99251b26e3802070d"></a>

```
virtual void OHOS::Camera::IStreamOperatorCallback::OnCaptureEnded (int32_t captureId, const std::vector< std::shared_ptr< CaptureEndedInfo >> & infos )
```

**描述：**

捕获结束回调，在捕获结束时调用。

**参数：**

<a name="table2019140840083931"></a>
<table><thead align="left"><tr id="row1465591511083931"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p627935008083931"><a name="p627935008083931"></a><a name="p627935008083931"></a>名称</p>
</th>
<th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p12958533083931"><a name="p12958533083931"></a><a name="p12958533083931"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row1477371741083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry1975279754083931p0"><a name="entry1975279754083931p0"></a><a name="entry1975279754083931p0"></a>captureId</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="entry1320213840083931p0"><a name="entry1320213840083931p0"></a><a name="entry1320213840083931p0"></a>[IN] 用于标识回调对应的捕获请求。</p>
</td>
</tr>
<tr id="row247736738083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry808432353083931p0"><a name="entry808432353083931p0"></a><a name="entry808432353083931p0"></a>infos</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="entry465481458083931p0"><a name="entry465481458083931p0"></a><a name="entry465481458083931p0"></a>[IN] 捕获结束相关信息。</p>
</td>
</tr>
</tbody>
</table>

**参见：**

[OnCaptureStarted](_camera.md#ga6389672b42dcead4067bbb06aa7b8c18)

**Since：**

1.0

**Version：**

1.0

## OnCaptureError\(\)<a name="gacea9a4cf4bdd5fab5499da06ecdf9b8f"></a>

```
virtual void OHOS::Camera::IStreamOperatorCallback::OnCaptureError (int32_t captureId, const std::vector< std::shared_ptr< CaptureErrorInfo >> & infos )
```

**描述：**

捕获错误回调，在捕获过程中发生错误时调用。

**参数：**

<a name="table1955462711083931"></a>
<table><thead align="left"><tr id="row17523985083931"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p828544321083931"><a name="p828544321083931"></a><a name="p828544321083931"></a>名称</p>
</th>
<th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p1172475859083931"><a name="p1172475859083931"></a><a name="p1172475859083931"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row1954244822083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry624360861083931p0"><a name="entry624360861083931p0"></a><a name="entry624360861083931p0"></a>captureId</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="entry1484902819083931p0"><a name="entry1484902819083931p0"></a><a name="entry1484902819083931p0"></a>[IN] 用于标识回调对应的捕获请求。</p>
</td>
</tr>
<tr id="row433585036083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry2002244044083931p0"><a name="entry2002244044083931p0"></a><a name="entry2002244044083931p0"></a>infos</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="entry1800603527083931p0"><a name="entry1800603527083931p0"></a><a name="entry1800603527083931p0"></a>[IN] 捕获错误信息列表。</p>
</td>
</tr>
</tbody>
</table>

**Since：**

1.0

**Version：**

1.0

## OnCaptureStarted\(\)<a name="ga6389672b42dcead4067bbb06aa7b8c18"></a>

```
virtual void OHOS::Camera::IStreamOperatorCallback::OnCaptureStarted (int32_t captureId, const std::vector< int32_t > & streamIds )
```

**描述：**

捕获开始回调，在捕获开始时调用。

**参数：**

<a name="table730041958083931"></a>
<table><thead align="left"><tr id="row73957042083931"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p874369458083931"><a name="p874369458083931"></a><a name="p874369458083931"></a>名称</p>
</th>
<th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p752532868083931"><a name="p752532868083931"></a><a name="p752532868083931"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row1656554937083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry460501751083931p0"><a name="entry460501751083931p0"></a><a name="entry460501751083931p0"></a>captureId</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="entry109271809083931p0"><a name="entry109271809083931p0"></a><a name="entry109271809083931p0"></a>[IN] 用于标识回调对应的捕获请求。</p>
</td>
</tr>
<tr id="row872124891083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry1997735231083931p0"><a name="entry1997735231083931p0"></a><a name="entry1997735231083931p0"></a>streamIds</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="entry698790130083931p0"><a name="entry698790130083931p0"></a><a name="entry698790130083931p0"></a>[IN] 回调对应的流集合。</p>
</td>
</tr>
</tbody>
</table>

**参见：**

[OnCaptureEnded](_camera.md#ga3761990cab402ce99251b26e3802070d)

**Since：**

1.0

**Version：**

1.0

## OnError\(\)<a name="ga8a2014d4173fc7fae08e62b9d85b5333"></a>

```
virtual void OHOS::Camera::ICameraDeviceCallback::OnError (ErrorType type, int32_t errorCode )
```

**描述：**

设备发生错误时调用，由调用者实现，用于返回错误信息给调用者。

**参数：**

<a name="table1782866415083931"></a>
<table><thead align="left"><tr id="row1877378896083931"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p1189383962083931"><a name="p1189383962083931"></a><a name="p1189383962083931"></a>名称</p>
</th>
<th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p1655047249083931"><a name="p1655047249083931"></a><a name="p1655047249083931"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row1702074152083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry925209435083931p0"><a name="entry925209435083931p0"></a><a name="entry925209435083931p0"></a>type</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="entry968660280083931p0"><a name="entry968660280083931p0"></a><a name="entry968660280083931p0"></a>[IN] 错误类型，具体错误类型可参考 <strong id="b2040316091083931"><a name="b2040316091083931"></a><a name="b2040316091083931"></a>ErrorType</strong>。</p>
</td>
</tr>
<tr id="row1167256915083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry1519678530083931p0"><a name="entry1519678530083931p0"></a><a name="entry1519678530083931p0"></a>errorCode</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="entry2025828903083931p0"><a name="entry2025828903083931p0"></a><a name="entry2025828903083931p0"></a>[IN] 错误码，当前暂未使用。</p>
</td>
</tr>
</tbody>
</table>

**Since：**

1.0

**Version：**

1.0

## OnFlashlightStatus\(\)<a name="ga98ee7a84744d5d6fa5c8c6b304739452"></a>

```
virtual void OHOS::Camera::ICameraHostCallback::OnFlashlightStatus (const std::string & cameraId, FlashlightStatus status )
```

**描述：**

用于在闪光灯状态变化时上报状态信息给调用者。

**参数：**

<a name="table1875455975083931"></a>
<table><thead align="left"><tr id="row1690417355083931"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p447147979083931"><a name="p447147979083931"></a><a name="p447147979083931"></a>名称</p>
</th>
<th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p1242370916083931"><a name="p1242370916083931"></a><a name="p1242370916083931"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row2039635943083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry1529279874083931p0"><a name="entry1529279874083931p0"></a><a name="entry1529279874083931p0"></a>cameraId</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="entry1411242763083931p0"><a name="entry1411242763083931p0"></a><a name="entry1411242763083931p0"></a>[IN] 状态发生变化的闪关灯所绑定的Camera设备ID。</p>
</td>
</tr>
<tr id="row312550371083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry1938024740083931p0"><a name="entry1938024740083931p0"></a><a name="entry1938024740083931p0"></a>status</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="entry383447456083931p0"><a name="entry383447456083931p0"></a><a name="entry383447456083931p0"></a>[IN] 最新的闪光灯状态。</p>
</td>
</tr>
</tbody>
</table>

**Since：**

1.0

**Version：**

1.0

## OnFrameShutter\(\)<a name="gabf1554ca18f9724a7551a864e610534e"></a>

```
virtual void OHOS::Camera::IStreamOperatorCallback::OnFrameShutter (int32_t captureId, const std::vector< int32_t > & streamIds, uint64_t timestamp )
```

**描述：**

帧捕获回调。

通过  **Capture**  的输入参数  [CaptureInfo](_o_h_o_s_1_1_camera_1_1_capture_info.md)  的enableShutterCallback\_使能该回调， 使能后每次捕获均会触发此回调。

**参数：**

<a name="table570275981083931"></a>
<table><thead align="left"><tr id="row1236120418083931"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p177586561083931"><a name="p177586561083931"></a><a name="p177586561083931"></a>名称</p>
</th>
<th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p865489371083931"><a name="p865489371083931"></a><a name="p865489371083931"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row666981269083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry651744831083931p0"><a name="entry651744831083931p0"></a><a name="entry651744831083931p0"></a>captureId</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="entry2141645502083931p0"><a name="entry2141645502083931p0"></a><a name="entry2141645502083931p0"></a>[IN] 用于标识回调对应的捕获请求。</p>
</td>
</tr>
<tr id="row223886143083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry1836549827083931p0"><a name="entry1836549827083931p0"></a><a name="entry1836549827083931p0"></a>streamIds</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="entry2096665939083931p0"><a name="entry2096665939083931p0"></a><a name="entry2096665939083931p0"></a>[IN] 回调对应的流集合。</p>
</td>
</tr>
<tr id="row1895347334083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry1855067873083931p0"><a name="entry1855067873083931p0"></a><a name="entry1855067873083931p0"></a>timestamp</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="entry2024693271083931p0"><a name="entry2024693271083931p0"></a><a name="entry2024693271083931p0"></a>[IN] 该接口被调用时的时间戳。</p>
</td>
</tr>
</tbody>
</table>

**参见：**

Capture

**Since：**

1.0

**Version：**

1.0

## OnResult\(\)<a name="gaaf9511e740682143565285edabc0b4ff"></a>

```
virtual void OHOS::Camera::ICameraDeviceCallback::OnResult (uint64_t timestamp, const std::shared_ptr< CameraMetadata > & result )
```

**描述：**

上报camera设备相关的metadata的回调，上报方式查看  [SetResultMode](_camera.md#ga8adaa4f26fffa98626a2c7e731393174)。

**参数：**

<a name="table609175279083931"></a>
<table><thead align="left"><tr id="row822321737083931"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p1539726319083931"><a name="p1539726319083931"></a><a name="p1539726319083931"></a>名称</p>
</th>
<th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p149586257083931"><a name="p149586257083931"></a><a name="p149586257083931"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row581334892083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry2124061280083931p0"><a name="entry2124061280083931p0"></a><a name="entry2124061280083931p0"></a>timestamp</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="entry299359404083931p0"><a name="entry299359404083931p0"></a><a name="entry299359404083931p0"></a>[IN] metadata上报的时间戳。</p>
</td>
</tr>
<tr id="row1216664856083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry371596377083931p0"><a name="entry371596377083931p0"></a><a name="entry371596377083931p0"></a>result</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="entry1363664779083931p0"><a name="entry1363664779083931p0"></a><a name="entry1363664779083931p0"></a>[IN] 上报的metadata，上报的metadata由 <strong id="b1839963651083931"><a name="b1839963651083931"></a><a name="b1839963651083931"></a>EnableResult</strong> 指定， 可通过 <strong id="b609644181083931"><a name="b609644181083931"></a><a name="b609644181083931"></a>GetEnabledResults</strong> 查询，<strong id="b1238572380083931"><a name="b1238572380083931"></a><a name="b1238572380083931"></a>DisableResult</strong> 关闭上报开关。</p>
</td>
</tr>
</tbody>
</table>

**Since：**

1.0

**Version：**

1.0

## OpenCamera\(\)<a name="gaf9e7aa942d3e31504d8ef5e710b029f1"></a>

```
virtual CamRetCode OHOS::Camera::ICameraHost::OpenCamera (const std::string & cameraId, const OHOS::sptr< ICameraDeviceCallback > & callback, OHOS::sptr< ICameraDevice > & device )
```

**描述：**

打开Camera设备。

打开指定的Camera设备，通过此接口可以获取到ICameraDevice对象，通过ICameraDevice对象可以操作具体的Camera设备。

**参数：**

<a name="table1187673535083931"></a>
<table><thead align="left"><tr id="row1429707270083931"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p1871367895083931"><a name="p1871367895083931"></a><a name="p1871367895083931"></a>名称</p>
</th>
<th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p1941410033083931"><a name="p1941410033083931"></a><a name="p1941410033083931"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row1367211913083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry503504207083931p0"><a name="entry503504207083931p0"></a><a name="entry503504207083931p0"></a>cameraId</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="entry1416360259083931p0"><a name="entry1416360259083931p0"></a><a name="entry1416360259083931p0"></a>[IN] 需要打开的Camera设备ID，可通过 <a href="_camera.md#gab3128eb3432a830b2cff6bcd999bca10">GetCameraIds</a> 接口获取当前已有Camera设备列表。</p>
</td>
</tr>
<tr id="row1368432803083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry559993588083931p0"><a name="entry559993588083931p0"></a><a name="entry559993588083931p0"></a>callback</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="entry635052045083931p0"><a name="entry635052045083931p0"></a><a name="entry635052045083931p0"></a>[IN] camera设备相关的回调函数，具体参见 <a href="_o_h_o_s_1_1_camera_1_1_i_camera_device_callback.md">ICameraDeviceCallback</a>。</p>
</td>
</tr>
<tr id="row1391695189083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry789854629083931p0"><a name="entry789854629083931p0"></a><a name="entry789854629083931p0"></a>device</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="entry766299069083931p0"><a name="entry766299069083931p0"></a><a name="entry766299069083931p0"></a>[OUT] 返回当前要打开的Camera设备ID对应的ICameraDevice对象。</p>
</td>
</tr>
</tbody>
</table>

**返回：**

Returns NO\_ERROR 表示执行成功；

Returns 其他值表示执行失败，具体错误码查看  [CamRetCode](#ga9ecee2f0e6599644dc440c9e1c553b80)。

**参见：**

[GetCameraIds](_camera.md#gab3128eb3432a830b2cff6bcd999bca10)

**Since：**

1.0

**Version：**

1.0

## Release\(\)<a name="ga94f3df7ad19a986a821202bb2f6f9697"></a>

```
virtual CamRetCode OHOS::Camera::IOfflineStreamOperator::Release ()
```

**描述：**

释放所有离线流。

**返回：**

Returns NO\_ERROR 表示执行成功；

Returns 其他值表示执行失败，具体错误码查看  [CamRetCode](#ga9ecee2f0e6599644dc440c9e1c553b80)。

**Since：**

1.0

**Version：**

1.0

## ReleaseStreams\(\) \[1/2\]<a name="ga21d854d9b73f4417a4d30e508b32df1c"></a>

```
virtual CamRetCode OHOS::Camera::IOfflineStreamOperator::ReleaseStreams (const std::vector< int > & streamIds)
```

**描述：**

释放离线流。

**参数：**

<a name="table1960360422083931"></a>
<table><thead align="left"><tr id="row1585767517083931"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p488234280083931"><a name="p488234280083931"></a><a name="p488234280083931"></a>名称</p>
</th>
<th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p1691330853083931"><a name="p1691330853083931"></a><a name="p1691330853083931"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row858054970083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry716955898083931p0"><a name="entry716955898083931p0"></a><a name="entry716955898083931p0"></a>streamIds</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="entry1900553782083931p0"><a name="entry1900553782083931p0"></a><a name="entry1900553782083931p0"></a>用于标识要释放的离线流集合。</p>
</td>
</tr>
</tbody>
</table>

**返回：**

Returns NO\_ERROR 表示执行成功。

Returns 其他值表示执行失败，具体错误码查看  [CamRetCode](#ga9ecee2f0e6599644dc440c9e1c553b80)。

**Since：**

1.0

**Version：**

1.0

## ReleaseStreams\(\) \[2/2\]<a name="ga02abdd9797d1464a0adddf750a9b1eaf"></a>

```
virtual CamRetCode OHOS::Camera::IStreamOperator::ReleaseStreams (const std::vector< int > & streamIds)
```

**描述：**

释放流。

**参数：**

<a name="table1375378612083931"></a>
<table><thead align="left"><tr id="row229664558083931"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p244693624083931"><a name="p244693624083931"></a><a name="p244693624083931"></a>名称</p>
</th>
<th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p494461316083931"><a name="p494461316083931"></a><a name="p494461316083931"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row213814437083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry1452288119083931p0"><a name="entry1452288119083931p0"></a><a name="entry1452288119083931p0"></a>streamIds</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="entry1506680510083931p0"><a name="entry1506680510083931p0"></a><a name="entry1506680510083931p0"></a>[IN] 要释放的流ID列表。</p>
</td>
</tr>
</tbody>
</table>

**返回：**

Returns NO\_ERROR 表示执行成功；

Returns 其他值表示执行失败，具体错误码查看  [CamRetCode](#ga9ecee2f0e6599644dc440c9e1c553b80)。

**Since：**

1.0

**Version：**

1.0

## SetCallback\(\)<a name="ga3caa092a17467ce472498046b13fe685"></a>

```
virtual CamRetCode OHOS::Camera::ICameraHost::SetCallback (const OHOS::sptr< ICameraHostCallback > & callback)
```

**描述：**

设置ICameraHost回调接口，回调函数参考  [ICameraHostCallback](_o_h_o_s_1_1_camera_1_1_i_camera_host_callback.md)。

**参数：**

<a name="table1450156673083931"></a>
<table><thead align="left"><tr id="row1103363510083931"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p1700466375083931"><a name="p1700466375083931"></a><a name="p1700466375083931"></a>名称</p>
</th>
<th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p1328798309083931"><a name="p1328798309083931"></a><a name="p1328798309083931"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row803384268083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry2127805607083931p0"><a name="entry2127805607083931p0"></a><a name="entry2127805607083931p0"></a>callback</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="entry663337328083931p0"><a name="entry663337328083931p0"></a><a name="entry663337328083931p0"></a>[IN] 要设置的回调函数。</p>
</td>
</tr>
</tbody>
</table>

**返回：**

Returns NO\_ERROR 表示执行成功。

Returns 其他值表示执行失败，具体错误码查看  [CamRetCode](#ga9ecee2f0e6599644dc440c9e1c553b80)。

**Since：**

1.0

**Version：**

1.0

## SetFlashlight\(\)<a name="gaa8e9b572081e0a489ca2f6772a7c18e8"></a>

```
virtual CamRetCode OHOS::Camera::ICameraHost::SetFlashlight (const std::string & cameraId, bool & isEnable )
```

**描述：**

打开或关闭闪光灯。

该接口只能由打开cameraId指定Camera设备的调用者调用。

**参数：**

<a name="table1496725783083931"></a>
<table><thead align="left"><tr id="row2037651425083931"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p1256010716083931"><a name="p1256010716083931"></a><a name="p1256010716083931"></a>名称</p>
</th>
<th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p1005447495083931"><a name="p1005447495083931"></a><a name="p1005447495083931"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row1467543667083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry51092490083931p0"><a name="entry51092490083931p0"></a><a name="entry51092490083931p0"></a>cameraId</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="entry1468798520083931p0"><a name="entry1468798520083931p0"></a><a name="entry1468798520083931p0"></a>[IN] 闪光灯对应的Camera设备ID。</p>
</td>
</tr>
<tr id="row2050754388083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry22945502083931p0"><a name="entry22945502083931p0"></a><a name="entry22945502083931p0"></a>isEnable</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="entry2129342949083931p0"><a name="entry2129342949083931p0"></a><a name="entry2129342949083931p0"></a>[IN] true打开闪光灯，false关闭闪光灯。</p>
</td>
</tr>
</tbody>
</table>

**返回：**

Returns NO\_ERROR 表示执行成功；

Returns 其他值表示执行失败，具体错误码查看  [CamRetCode](#ga9ecee2f0e6599644dc440c9e1c553b80)。

**参见：**

[GetCameraIds](_camera.md#gab3128eb3432a830b2cff6bcd999bca10)

**Since：**

1.0

**Version：**

1.0

## SetResultMode\(\)<a name="ga8adaa4f26fffa98626a2c7e731393174"></a>

```
virtual CamRetCode OHOS::Camera::ICameraDevice::SetResultMode (const ResultCallbackMode & mode)
```

**描述：**

设置metadata上报模式，逐帧上报还是设备状态变化时上报。

**参数：**

<a name="table775658852083931"></a>
<table><thead align="left"><tr id="row1499286671083931"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p1892817822083931"><a name="p1892817822083931"></a><a name="p1892817822083931"></a>名称</p>
</th>
<th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p191213412083931"><a name="p191213412083931"></a><a name="p191213412083931"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row134227209083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry783853026083931p0"><a name="entry783853026083931p0"></a><a name="entry783853026083931p0"></a>mode</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="entry2097696169083931p0"><a name="entry2097696169083931p0"></a><a name="entry2097696169083931p0"></a>[IN] metadata的上报模式，逐帧上报或者设备状态变化时上报，查看 <strong id="b1973165248083931"><a name="b1973165248083931"></a><a name="b1973165248083931"></a>ResultCallbackMode</strong>。</p>
</td>
</tr>
</tbody>
</table>

**返回：**

Returns NO\_ERROR 表示执行成功。

Returns 其他值表示执行失败，具体错误码查看  [CamRetCode](#ga9ecee2f0e6599644dc440c9e1c553b80)。

**Since：**

1.0

**Version：**

1.0

## UpdateSettings\(\)<a name="gaceecba48e611efeec8bdf44d750b41a2"></a>

```
virtual CamRetCode OHOS::Camera::ICameraDevice::UpdateSettings (const std::shared_ptr< CameraSetting > & settings)
```

**描述：**

更新设备控制参数。

**参数：**

<a name="table978105973083931"></a>
<table><thead align="left"><tr id="row1488003958083931"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="p1542009624083931"><a name="p1542009624083931"></a><a name="p1542009624083931"></a>名称</p>
</th>
<th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="p1085359573083931"><a name="p1085359573083931"></a><a name="p1085359573083931"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row1517417273083931"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="entry270830159083931p0"><a name="entry270830159083931p0"></a><a name="entry270830159083931p0"></a>settings</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="entry583282314083931p0"><a name="entry583282314083931p0"></a><a name="entry583282314083931p0"></a>[IN] Camera设置参数，包括sensor帧率，3A相关参数等。</p>
</td>
</tr>
</tbody>
</table>

**返回：**

Returns NO\_ERROR 表示执行成功。

Returns 其他值表示执行失败，具体错误码查看  [CamRetCode](#ga9ecee2f0e6599644dc440c9e1c553b80)。

**Since：**

1.0

**Version：**

1.0

## **变量说明**<a name="section1491593896083931"></a>

## bufferQueue\_<a name="ga99159e868ae5cbdb481c632b2d2b6cea"></a>

```
OHOS::sptr<OHOS::IBufferProducer> OHOS::Camera::StreamInfo::bufferQueue_
```

**描述：**

图形提供的生产者句柄。

## captureSetting\_<a name="gaf9b4dd844035812188033a902997db0e"></a>

```
std::shared_ptr<CameraMetadata> OHOS::Camera::CaptureInfo::captureSetting_
```

**描述：**

捕获的配置信息。

## datasapce\_<a name="gaa37b41817162eb97c6020bd19d9b2409"></a>

```
int OHOS::Camera::StreamInfo::datasapce_
```

**描述：**

图像颜色空间。

## enableShutterCallback\_<a name="ga98ac0d6060245795d659dc3b9878bf01"></a>

```
bool OHOS::Camera::CaptureInfo::enableShutterCallback_
```

**描述：**

使能捕获回调，每一次捕获后都会触发  **OnFrameShutter**。

## encodeType\_<a name="ga2319c28d22981a24a5b28906673cac4d"></a>

```
[EncodeType](_camera.md#ga57d3c5974b8119b90f6f43592bd4b1d1) OHOS::Camera::StreamInfo::encodeType_
```

**描述：**

编码类型。

## error\_<a name="ga26a0ca05e4de350dbbc0643030ad9833"></a>

```
[StreamError](_camera.md#ga376e6d566c73ec98e29b7dd93763aee6) OHOS::Camera::CaptureErrorInfo::error_
```

**描述：**

错误类型。

## format\_<a name="gaebd456528d152ee36557253b79153bea"></a>

```
int OHOS::Camera::StreamInfo::format_
```

**描述：**

图像格式。

## frameCount\_<a name="gad4c5d2c032c292bb4f8afab11d6b3edd"></a>

```
int OHOS::Camera::CaptureEndedInfo::frameCount_
```

**描述：**

捕获结束时已经抓取的帧数。

## height\_ \[1/2\]<a name="gab9a2907e1c21f2c8218ede013407d5ec"></a>

```
int OHOS::Camera::StreamInfo::height_
```

**描述：**

图像高度。

## height\_ \[2/2\]<a name="ga00141105fac73b5e87f8071517822afa"></a>

```
int OHOS::Camera::StreamAttribute::height_
```

**描述：**

图像高度。

## intent\_<a name="ga7bde9a7e5f2d2c59f4e210782bf7f008"></a>

```
[StreamIntent](_camera.md#ga2b195a400dc0113b8185900ddc231c19) OHOS::Camera::StreamInfo::intent_
```

**描述：**

流类型。

## maxBatchCaptureCount\_<a name="ga4313d8864a29006968ef6b1fd906c60e"></a>

```
int OHOS::Camera::StreamAttribute::maxBatchCaptureCount_
```

**描述：**

连拍支持的最大捕获帧数量。

## maxCaptureCount\_<a name="ga2319608360ac79ca5306fb5fbc5b4c39"></a>

```
int OHOS::Camera::StreamAttribute::maxCaptureCount_
```

**描述：**

最大的并发捕获请求个数，默认为1。

## minFrameDuration\_<a name="gaf939bbf9d30f735b8164c23553fccf9e"></a>

```
int OHOS::Camera::StreamInfo::minFrameDuration_
```

**描述：**

最小帧间隔。

## overrideDatasapce\_<a name="ga8603075c05fa41ed925759720c5c6313"></a>

```
int OHOS::Camera::StreamAttribute::overrideDatasapce_
```

**描述：**

重写的图像颜色空间

## overrideFormat\_<a name="ga50b990f6b69fb3d4934cbd6cf42a8288"></a>

```
int OHOS::Camera::StreamAttribute::overrideFormat_
```

**描述：**

重写的图像格式。

## producerBufferCount\_<a name="gad335c181edb61fb1301e3611d6124cf3"></a>

```
int OHOS::Camera::StreamAttribute::producerBufferCount_
```

**描述：**

重写后的生产者缓存数量。

## producerUsage\_<a name="ga648588703444dbbcd9e4fe83564ada25"></a>

```
int OHOS::Camera::StreamAttribute::producerUsage_
```

**描述：**

重写后的生产者的使用方式。

## streamId\_ \[1/4\]<a name="ga1089ac7f52e34345be702a4bb4c85d38"></a>

```
int OHOS::Camera::StreamInfo::streamId_
```

**描述：**

流的ID，用于在设备内唯一标识一条流。

## streamId\_ \[2/4\]<a name="ga50b8d508367267fcf6405aaecb11b876"></a>

```
int OHOS::Camera::StreamAttribute::streamId_
```

**描述：**

流的ID，用于在设备内唯一标识一条流。

## streamId\_ \[3/4\]<a name="ga51d3957467453682897dbbf72a3ce13b"></a>

```
int OHOS::Camera::CaptureEndedInfo::streamId_
```

**描述：**

捕获的流ID。

## streamId\_ \[4/4\]<a name="ga9474ba692818d9302e29ca9438d58eea"></a>

```
int OHOS::Camera::CaptureErrorInfo::streamId_
```

**描述：**

流ID。

## streamIds\_<a name="ga09d7f38a0f985fbe95ebabf4dd905e29"></a>

```
std::vector<int> OHOS::Camera::CaptureInfo::streamIds_
```

**描述：**

捕获的流ID集合。

## tunneledMode\_<a name="ga674e0bd0cf516ca46f76bb8ef8b05d75"></a>

```
bool OHOS::Camera::StreamInfo::tunneledMode_
```

**描述：**

隧道模式，值为true时开启，false关闭。

开启隧道模式后，HAL不直接和上层交互，通过图形提供的生产者句柄来传递帧数据， 对于一些IOT设备，可能不需要或者不支持预览流的图像数据缓存流转，此时需要关闭隧道模式。

## width\_ \[1/2\]<a name="ga92dbc0abb2c760b1f8b6ec063bfffcd9"></a>

```
int OHOS::Camera::StreamInfo::width_
```

**描述：**

图像宽度。

## width\_ \[2/2\]<a name="gae8ccba46ee84e78d4fdbf2f4ed167af0"></a>

```
int OHOS::Camera::StreamAttribute::width_
```

**描述：**

图像宽度。

